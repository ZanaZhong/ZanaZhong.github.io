<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Docker Compose：輕鬆管理多個容器</title>
    <url>/2025/01/21/Docker-Compose%EF%BC%9A%E8%BC%95%E9%AC%86%E7%AE%A1%E7%90%86%E5%A4%9A%E5%80%8B%E5%AE%B9%E5%99%A8/</url>
    <content><![CDATA[<p>在現代應用開發中，微服務架構已成為主流，而 Docker 提供了優秀的 Containerlize 解決方案。但當需要同時管理多個 Container 時，手動啟動與配置每個 Container 可能得繁瑣，這時候 Docker Compose 就派上用場。本文將介紹 Docker Compose 的基本概念、使用方式以及實際應用場景，幫助您快速掌握這項工具。</p>
<span id="more"></span>

<h2 id="什麼是-Docker-Compose？"><a href="#什麼是-Docker-Compose？" class="headerlink" title="什麼是 Docker Compose？"></a>什麼是 Docker Compose？</h2><p>Docker Compose 是一個用來定義和管理多個 Docker Container 的工具。透過編寫 <code>docker-compose.yml</code> 檔案，可以使用簡單的命令來同時啟動、停止和協調多個 Container，讓應用程式各組件能夠順暢的一同運作。</p>
<h3 id="優勢"><a href="#優勢" class="headerlink" title="優勢"></a>優勢</h3><ul>
<li><strong>簡化多個 Container 管理</strong>：使用 YAML 文件一次性定義所有 Container ，省去繁瑣的指令操作。</li>
<li><strong>環境一致性</strong>：確保開發、測試、部署環境一致。</li>
<li><strong>自動化服務啟動</strong>：設定依賴關係，按順序啟動 Container 。</li>
<li><strong>支援擴展性</strong>：輕鬆擴展或縮小 Container 數量，適應不同需求。</li>
</ul>
<h2 id="基本架構"><a href="#基本架構" class="headerlink" title="基本架構"></a>基本架構</h2><p><code>docker-compose.yml</code> 文件包含以下幾個部分：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8080:80&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./html:/usr/share/nginx/html</span></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:5.7</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">example</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3306:3306&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>version</code>: 指定 Compose 文件的版本。</li>
<li><code>services</code>: 定義應用服務，EX: <code>web</code>（NGINX）與 <code>db</code>（MySQL）。</li>
<li><code>image</code>: 指定使用的 Docker image。</li>
<li><code>ports</code>: 將容器內部 Port 映射到主機。</li>
<li><code>volumes</code>: 掛載主機目錄到容器內。</li>
<li><code>environment</code>: 設置環境變數，例如 MySQL 的 root 密碼。</li>
</ul>
<h2 id="基本指令"><a href="#基本指令" class="headerlink" title="基本指令"></a>基本指令</h2><blockquote>
<p>啟動與管理容器</p>
</blockquote>
<table>
<thead>
<tr>
<th>指令</th>
<th>功能說明</th>
</tr>
</thead>
<tbody><tr>
<td><code>docker-compose up</code></td>
<td>啟動所有服務</td>
</tr>
<tr>
<td><code>docker-compose up -d</code></td>
<td>以背景模式運行容器</td>
</tr>
<tr>
<td><code>docker-compose down</code></td>
<td>停止並移除所有容器</td>
</tr>
<tr>
<td><code>docker-compose ps</code></td>
<td>查看運行中容器的狀態</td>
</tr>
<tr>
<td><code>docker-compose logs</code></td>
<td>查看容器日誌</td>
</tr>
<tr>
<td><code>docker-compose restart</code></td>
<td>重新啟動服務</td>
</tr>
<tr>
<td><code>docker-compose build</code></td>
<td>建立 image 檔，通常用於自定義 Dockerfile</td>
</tr>
</tbody></table>
<h2 id="使用範例"><a href="#使用範例" class="headerlink" title="使用範例"></a>使用範例</h2><h3 id="範例：簡單的-LAMP-環境（Linux-Apache-MySQL-PHP）"><a href="#範例：簡單的-LAMP-環境（Linux-Apache-MySQL-PHP）" class="headerlink" title="範例：簡單的 LAMP 環境（Linux + Apache + MySQL + PHP）"></a>範例：簡單的 LAMP 環境（Linux + Apache + MySQL + PHP）</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.8&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">apache:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">httpd:latest</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8080:80&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./www:/usr/local/apache2/htdocs/</span></span><br><span class="line">  <span class="attr">mysql:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:5.7</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">rootpass</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3306:3306&quot;</span></span><br><span class="line">  <span class="attr">php:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">php:7.4-apache</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./www:/var/www/html/</span></span><br></pre></td></tr></table></figure>

<p>啟動該應用環境：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure>

<p>瀏覽 <code>http://localhost:8080</code>，即可看到運行的網站。</p>
<h2 id="應用場景"><a href="#應用場景" class="headerlink" title="應用場景"></a>應用場景</h2><p>Docker Compose 適合以下情境：</p>
<ul>
<li><strong>開發與測試環境搭建</strong>：快速啟動所需服務（EX: 資料庫、快取、API）。</li>
<li><strong>CI&#x2F;CD 自動化測試</strong>：在 CI&#x2F;CD 流水線中管理多個微服務。</li>
<li><strong>本機模擬雲端架構</strong>：模擬實際部署環境，提升開發一致性。</li>
</ul>
<h2 id="進階功能介紹"><a href="#進階功能介紹" class="headerlink" title="進階功能介紹"></a>進階功能介紹</h2><h3 id="多環境配置"><a href="#多環境配置" class="headerlink" title="多環境配置"></a>多環境配置</h3><p>可以使用多個 Compose 文件來管理不同的環境，例如：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose -f docker-compose.dev.yml up</span><br></pre></td></tr></table></figure>

<h3 id="擴展與縮放"><a href="#擴展與縮放" class="headerlink" title="擴展與縮放"></a>擴展與縮放</h3><p>使用以下指令快速擴展服務數量：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose up --scale web=3</span><br></pre></td></tr></table></figure>

<h2 id="常見問題與除錯"><a href="#常見問題與除錯" class="headerlink" title="常見問題與除錯"></a>常見問題與除錯</h2><h3 id="Container-啟動失敗"><a href="#Container-啟動失敗" class="headerlink" title="Container 啟動失敗"></a>Container 啟動失敗</h3><ul>
<li>檢查 <code>docker-compose logs</code> 取得詳細錯誤資訊。</li>
<li>確保 YAML 文件格式正確，避免縮排錯誤。</li>
</ul>
<h3 id="Port-衝突"><a href="#Port-衝突" class="headerlink" title="Port 衝突"></a>Port 衝突</h3><ul>
<li>確保主機 Port 未被其他應用佔用，或修改 <code>ports</code> 設定。</li>
</ul>
<h3 id="無法連接容器間服務"><a href="#無法連接容器間服務" class="headerlink" title="無法連接容器間服務"></a>無法連接容器間服務</h3><ul>
<li>使用服務名稱而非 IP，例如 <code>db</code> 連接 <code>mysql</code> 而非 <code>localhost</code>。</li>
</ul>
]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>DockerCompose</tag>
        <tag>容器化</tag>
        <tag>微服務</tag>
        <tag>DevOps</tag>
      </tags>
  </entry>
  <entry>
    <title>Go Concurrency：Goroutine、Channel、WaitGroup、Mutex 一次搞懂！</title>
    <url>/2025/02/25/Go-Concurrency%EF%BC%9AGoroutine%E3%80%81Channel%E3%80%81WaitGroup%E3%80%81Mutex-%E4%B8%80%E6%AC%A1%E6%90%9E%E6%87%82%EF%BC%81/</url>
    <content><![CDATA[<p>在寫程式時，你是否曾遇過這樣的問題：</p>
<ul>
<li>程式跑得很慢，某些函式明明可以同時執行，卻得一個等一個？</li>
<li>想要讓多個工作並行，但又怕不同的程序互相干擾？</li>
<li>處理龐大的計算或 I&#x2F;O 任務時，CPU 占用率極低，白白浪費資源？</li>
</ul>
<p>這時候，你需要的是 <strong>並發（Concurrency）</strong>！而 Go 語言提供了一種超級簡單且高效的並發工具： <strong>Goroutine</strong>。</p>
<span id="more"></span>

<p>在 Go 語言中，並發是其核心特性之一，而 Goroutine 則是實現並發的關鍵。你可以把它想像成一個「輕量級的執行緒」，但它比傳統執行緒更高效、佔用更少資源，並且能夠輕鬆地創建成千上萬個 Goroutine。</p>
<h2 id="Goroutine-是什麼？為什麼它這麼強？"><a href="#Goroutine-是什麼？為什麼它這麼強？" class="headerlink" title="Goroutine 是什麼？為什麼它這麼強？"></a>Goroutine 是什麼？為什麼它這麼強？</h2><p>Goroutine 是 Go 語言的 <strong>輕量級執行緒（Lightweight Thread）</strong>，讓你可以輕鬆執行並發程式，而不需要手動管理繁瑣的系統執行緒。</p>
<ul>
<li><strong>輕量級</strong>：相比於傳統的作業系統執行緒（Thread），Goroutine 的記憶體開銷極低。</li>
<li><strong>執行簡單</strong>：只要在函式前加上 <code>go</code>，就能讓它跑在背景，完全不需要設定任何 Thread！</li>
<li><strong>獨立運行</strong>：Goroutine 之間互不影響，即使某個 Goroutine 崩潰，也不會導致其他 Goroutine 失敗。</li>
<li><strong>高效</strong>：Go 運行時（runtime）會自動管理 Goroutine 的調度，避免過度依賴作業系統的執行緒管理。</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hello</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello, Goroutine!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">go</span> hello() <span class="comment">// 啟動 Goroutine</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Main 函式結束&quot;</span>)</span><br><span class="line">    time.Sleep(time.Second) <span class="comment">// 等待 Goroutine 執行完成</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>輸出</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Main 函式結束</span><br><span class="line">Hello, Goroutine!</span><br></pre></td></tr></table></figure>

<ul>
<li><code>go hello()</code> 會在背景執行，而 <code>main()</code> 函式會繼續往下執行。</li>
<li>這樣我們的程式就可以同時進行兩個工作，提升效率！</li>
</ul>
<p>⚠ 但這裡有個問題—— Goroutine 是異步執行的，main() 可能在 hello() 結束前就已執行完畢，因此 time.Sleep() 讓主執行緒暫停一下，確保 Goroutine 執行。</p>
<div class="note info"><p><strong>main 函式結束後，所有 Goroutine 也會立即結束</strong>，這就引出了下一個重要工具： <strong>WaitGroup</strong>。</p>
</div>

<h2 id="WaitGroup：讓主程式等-Goroutine-完成，確保-Goroutine-全部完成"><a href="#WaitGroup：讓主程式等-Goroutine-完成，確保-Goroutine-全部完成" class="headerlink" title="WaitGroup：讓主程式等 Goroutine 完成，確保 Goroutine 全部完成"></a>WaitGroup：讓主程式等 Goroutine 完成，確保 Goroutine 全部完成</h2><p>當我們開啟多個 Goroutine 時，<code>main()</code> 可能還沒等 Goroutine 執行完就結束了，導致 Goroutine 被強制終止。為了解決這個問題，我們可以使用 <strong>sync.WaitGroup</strong>。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;sync&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printMessage</span><span class="params">(message <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> wg.Done() <span class="comment">// Goroutine 結束時通知 WaitGroup</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        fmt.Println(message, i)</span><br><span class="line">        time.Sleep(time.Millisecond * <span class="number">500</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    wg.Add(<span class="number">2</span>) <span class="comment">// 設定有 2 個 Goroutine</span></span><br><span class="line">    <span class="keyword">go</span> printMessage(<span class="string">&quot;Hello from Goroutine 1&quot;</span>)</span><br><span class="line">    <span class="keyword">go</span> printMessage(<span class="string">&quot;Hello from Goroutine 2&quot;</span>)</span><br><span class="line"></span><br><span class="line">    wg.Wait() <span class="comment">// 等待所有 Goroutine 結束</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;All Goroutines Finished!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>wg.Add(2)</code> 告訴 WaitGroup 需要等 2 個 Goroutine。   &lt;- 增加計數器 </li>
<li><code>wg.Done()</code> 會在 Goroutine 執行結束時通知 WaitGroup。 &lt;- 減少計數器</li>
<li><code>wg.Wait()</code> 讓 <code>main()</code> 等待所有 Goroutine 結束後才繼續。 &lt;- 等待計數器歸零</li>
</ul>
<p>這樣就能確保主程式不會提前結束！<br>我們再看一個範例：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;sync&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">worker</span><span class="params">(id <span class="keyword">int</span>, wg *sync.WaitGroup)</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> wg.Done() <span class="comment">// 告知 WaitGroup 這個 Goroutine 完成</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;Worker %d 開始工作\n&quot;</span>, id)</span><br><span class="line">    time.Sleep(time.Second)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Worker %d 完成工作\n&quot;</span>, id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++ &#123;</span><br><span class="line">        wg.Add(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">go</span> worker(i, &amp;wg)</span><br><span class="line">    &#125;</span><br><span class="line">    wg.Wait() <span class="comment">// 等待所有 Goroutine 結束</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Channel：Goroutine-之間的溝通管道"><a href="#Channel：Goroutine-之間的溝通管道" class="headerlink" title="Channel：Goroutine 之間的溝通管道"></a>Channel：Goroutine 之間的溝通管道</h2><p>Goroutine 之間如何傳遞資料呢？我們可以使用 <strong>Channel</strong>，它就像是一條輸送帶，負責在 Goroutine 之間傳遞訊息，確保 <strong>Goroutine 之間安全地交換資料</strong>！</p>
<p>Channel 的基本語法</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>) <span class="comment">// 創建 Channel</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        ch &lt;- <span class="string">&quot;Hello from Goroutine!&quot;</span> <span class="comment">// 發送訊息到 Channel</span></span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    message := &lt;-ch <span class="comment">// 從 Channel 接收訊息</span></span><br><span class="line">    fmt.Println(message)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>輸出：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Hello from Goroutine!</span><br></pre></td></tr></table></figure>
<p>另一種寫法（匿名函式）</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sendMessage</span><span class="params">(ch <span class="keyword">chan</span> <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    ch &lt;- <span class="string">&quot;Hello from Goroutine!&quot;</span> <span class="comment">// 發送訊息</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>) <span class="comment">// 建立 Channel</span></span><br><span class="line">    <span class="keyword">go</span> sendMessage(ch)</span><br><span class="line">    message := &lt;-ch <span class="comment">// 從 Channel 接收訊息</span></span><br><span class="line">    fmt.Println(message)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>ch := make(chan string)</code> 建立了一個 <code>string</code> 類型的 Channel。</li>
<li><code>ch &lt;- &quot;Hello&quot;</code> 讓 Goroutine 發送訊息。</li>
<li><code>&lt;-ch</code> 讓主程式接收訊息。</li>
</ul>
<p>這兩種寫法的主要差異在於：</p>
<ol>
<li>第一種寫法：將 <code>sendMessage</code> 定義為一個獨立函式，這樣的方式有助於程式的結構化，使程式碼更具可讀性和可維護性。</li>
<li>第二種寫法：使用匿名函式（<code>go func() &#123;&#125;</code>）直接啟動 Goroutine，這種方式適合用於簡單的情境，例如臨時的併發操作，而不需要額外定義函式。</li>
</ol>
<p>在選擇哪種方式時，通常如果該 Goroutine 需要重複使用，則應該定義成獨立函式；如果只是一次性操作，則可以使用匿名函式。</p>
<h3 id="Buffered-Channel（有緩衝的-Channel）"><a href="#Buffered-Channel（有緩衝的-Channel）" class="headerlink" title="Buffered Channel（有緩衝的 Channel）"></a>Buffered Channel（有緩衝的 Channel）</h3><p>Buffered channel 允許 goroutine 發送多個訊息而不會馬上被接收：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">3</span>) <span class="comment">// 緩衝區大小為 3</span></span><br><span class="line"></span><br><span class="line">    ch &lt;- <span class="number">1</span></span><br><span class="line">    ch &lt;- <span class="number">2</span></span><br><span class="line">    ch &lt;- <span class="number">3</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(&lt;-ch)</span><br><span class="line">    fmt.Println(&lt;-ch)</span><br><span class="line">    fmt.Println(&lt;-ch)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>這樣的 Channel 允許存入 3 個數據而不會阻塞 Goroutine。<br>緩衝區滿了後，goroutine 會阻塞直到有空間可用。</p>
</blockquote>
<h2 id="Mutex：避免-Goroutine-同時修改資料"><a href="#Mutex：避免-Goroutine-同時修改資料" class="headerlink" title="Mutex：避免 Goroutine 同時修改資料"></a>Mutex：避免 Goroutine 同時修改資料</h2><p>當多個 Goroutine 需要共享同一個變數時，可能會發生 <strong>競爭條件（Race Condition）</strong>，導致不一致的結果。這時候就需要 <strong>Mutex（互斥鎖）</strong> 來確保資料安全。</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;sync&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    counter <span class="keyword">int</span></span><br><span class="line">    lock sync.Mutex</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">increment</span><span class="params">()</span></span> &#123;</span><br><span class="line">    lock.Lock()   <span class="comment">// 加鎖</span></span><br><span class="line">    counter++</span><br><span class="line">    lock.Unlock() <span class="comment">// 解鎖</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">    wg.Add(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">            <span class="keyword">defer</span> wg.Done()</span><br><span class="line">            increment()</span><br><span class="line">        &#125;()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    wg.Wait()</span><br><span class="line">    fmt.Println(<span class="string">&quot;Final Counter:&quot;</span>, counter)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>increment()</code> 用於增加計數器，使用 <code>mutex.Lock()</code> 和 <code>mutex.Unlock()</code> 保護 <code>counter</code> 變數。<code>main()</code> 啟動多個 Goroutine，每個 Goroutine 都會調用 <code>increment()</code> 。使用 <code>sync.Mutex </code>可以確保 <code>counter</code> 的值正確。</p>
<ul>
<li><code>lock.Lock()</code> 確保只有一個 Goroutine 能修改 <code>counter</code>。</li>
<li><code>lock.Unlock()</code> 讓其他 Goroutine 繼續執行。</li>
</ul>
<p>這樣就能保證並發環境下數據的一致性！</p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>Goroutine 讓 Go 的並發變得輕鬆簡單，但為了讓多個 Goroutine 之間能夠順利協作，我們需要：</p>
<ul>
<li><strong>WaitGroup</strong> 讓主程式等 Goroutine 執行完。</li>
<li><strong>Channel</strong> 讓 Goroutine 之間安全地交換數據。</li>
<li><strong>Mutex</strong> 避免多個 Goroutine 同時修改共享變數。</li>
</ul>
]]></content>
      <categories>
        <category>Golang</category>
      </categories>
      <tags>
        <tag>Go</tag>
        <tag>Goroutine</tag>
        <tag>Concurrency</tag>
        <tag>Channel</tag>
        <tag>WaitGroup</tag>
        <tag>Mutex</tag>
        <tag>技術教學</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL 與 NoSQL：關聯式與非關聯式資料庫的差異與應用</title>
    <url>/2025/01/18/SQL-%E8%88%87-NoSQL%EF%BC%9A%E9%97%9C%E8%81%AF%E5%BC%8F%E8%88%87%E9%9D%9E%E9%97%9C%E8%81%AF%E5%BC%8F%E8%B3%87%E6%96%99%E5%BA%AB%E7%9A%84%E5%B7%AE%E7%95%B0%E8%88%87%E6%87%89%E7%94%A8/</url>
    <content><![CDATA[<h3 id="資料的儲存與未來的選擇"><a href="#資料的儲存與未來的選擇" class="headerlink" title="資料的儲存與未來的選擇"></a>資料的儲存與未來的選擇</h3><p>現今的應用程式需要處理大量的資料，而選擇適合的資料庫相當的重要。無論是需要處理<code>結構化資料</code>，還是<code>非結構化</code>或<code>半結構化</code>資料，我們通常面臨著兩種主要資料庫技術的選擇：<strong>關聯式資料庫 (SQL)</strong> 和 <strong>非關聯式資料庫 (NoSQL)</strong> 。</p>
<p>本篇教學將以簡單明瞭的方式介紹這兩種資料庫的核心概念、結構、適用情境以及它們之間的比較，幫助你快速掌握其特性，並做出正確的選擇。</p>
<span id="more"></span>

<h2 id="什麼是-SQL-和-NoSQL？"><a href="#什麼是-SQL-和-NoSQL？" class="headerlink" title="什麼是 SQL 和 NoSQL？"></a>什麼是 SQL 和 NoSQL？</h2><table>
<thead>
<tr>
<th><strong>分類</strong></th>
<th><strong>SQL (關聯式資料庫)</strong></th>
<th><strong>NoSQL (非關聯式資料庫)</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>定義</strong></td>
<td>使用結構化查詢語言 (Structured Query Language)進行操作的關聯式資料庫</td>
<td>不使用固定結構的表格，支持非結構化或半結構化資料的資料庫。</td>
</tr>
<tr>
<td><strong>資料結構</strong></td>
<td>嚴格的表格結構 (行與列)，所有資料存儲於表格中，表格之間透過關聯來連結</td>
<td>多種資料模型 (鍵值、文件、圖形、列式)，沒有固定結構，靈活性高</td>
</tr>
<tr>
<td><strong>儲存方式</strong></td>
<td>表格型資料 (Table-based)</td>
<td>文件、鍵值對 (Key-Value)、圖形、文件、列式 (Column-Oriented) 資料等多種儲存格式</td>
</tr>
<tr>
<td><strong>一致性模型</strong></td>
<td>強一致性 (ACID：原子性、一致性、隔離性、持久性)</td>
<td>最終一致性 (BASE：基本可用、軟狀態、最終一致性)，但可根據需求提供強一致性</td>
</tr>
</tbody></table>
<h2 id="SQL-關聯式資料庫"><a href="#SQL-關聯式資料庫" class="headerlink" title="SQL (關聯式資料庫)"></a>SQL (關聯式資料庫)</h2><ul>
<li><p><strong>結構化與模式化</strong></p>
<ul>
<li>資料存儲在行和列的表格中，表格具有嚴格的結構 (Schema)。</li>
<li>資料需要事先設計表格結構 (如欄位名稱和資料類型)。</li>
</ul>
</li>
<li><p><strong>支援複雜查詢</strong></p>
<ul>
<li>使用 SQL 語言執行強大的查詢與資料操作 (EX: SELECT、JOIN、GROUP BY)。</li>
<li>非常適合需要跨多個表格進行關聯性查詢的情境。</li>
</ul>
</li>
<li><p><strong>交易支持</strong></p>
<ul>
<li>遵循 <strong>ACID 特性</strong>，確保資料在交易過程中始終一致與完整。</li>
<li>適合金融、銀行、電商等需要高一致性的應用。</li>
</ul>
</li>
</ul>
<div class="note info"><p><strong>MySQL</strong>、<strong>PostgreSQL</strong>、<strong>Microsoft SQL Server</strong>、<strong>Oracle Database</strong></p>
</div>


<h2 id="NoSQL-非關聯式資料庫"><a href="#NoSQL-非關聯式資料庫" class="headerlink" title="NoSQL (非關聯式資料庫)"></a>NoSQL (非關聯式資料庫)</h2><ul>
<li><p><strong>靈活的資料結構</strong></p>
<ul>
<li>支援多種資料模型：<ul>
<li><strong>鍵值對模型</strong> (EX: Redis)：用於快速存取資料。</li>
<li><strong>文件模型</strong> (EX: MongoDB)：儲存 JSON 格式的文件資料。</li>
<li><strong>圖形模型</strong> (EX: Neo4j)：用於儲存節點和關係的資料。</li>
<li><strong>列式模型</strong> (EX: Cassandra)：適合大規模分布式運算。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>高可擴展性</strong></p>
<ul>
<li>透過分片 (Sharding)和分布式架構，能處理大量資料和高併發需求。</li>
<li>適合大規模應用程式 (如社交媒體、物聯網)。</li>
</ul>
</li>
<li><p><strong>靈活性與高性能</strong></p>
<ul>
<li>資料結構靈活，適合處理快速變化的需求。</li>
<li>可根據需求選擇一致性 (強一致性或最終一致性)。</li>
</ul>
</li>
</ul>
<div class="note info"><p><strong>MongoDB</strong> (文件型)、<strong>Redis</strong> (Key-Value)、<strong>Cassandra</strong> (Column-Oriented)、<strong>Neo4j</strong> (圖形型)</p>
</div>

<h2 id="比較"><a href="#比較" class="headerlink" title="比較"></a>比較</h2><table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>SQL</strong></th>
<th><strong>NoSQL</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>結構化</strong></td>
<td>嚴格結構，需事先定義 Schema。</td>
<td>無固定模式，靈活應對結構變化。</td>
</tr>
<tr>
<td><strong>查詢能力</strong></td>
<td>支持複雜查詢和跨表操作 (JOIN)。</td>
<td>查詢速度快，通常不支持複雜的 JOIN 操作。</td>
</tr>
<tr>
<td><strong>交易支持</strong></td>
<td>支持 ACID 交易，確保資料一致性。</td>
<td>通常不支持 ACID，根據需求支持 BASE 或強一致性。</td>
</tr>
<tr>
<td><strong>擴展性</strong></td>
<td>垂直擴展 (Scale-Up)，增加硬體資源。</td>
<td>水平擴展 (Scale-Out)，分片處理大量資料。</td>
</tr>
<tr>
<td><strong>適用場景</strong></td>
<td>資料結構穩定，要求高一致性，關聯查詢頻繁的應用。</td>
<td>資料結構多變，大規模、高併發的應用 (如社交網路、流量分析)。</td>
</tr>
<tr>
<td><strong>性能表現</strong></td>
<td>對<code>小型</code>資料庫表現良好，但大規模資料可能遇到瓶頸。</td>
<td>針對<code>大規模資料</code>設計，擁有高性能與高擴展性。</td>
</tr>
</tbody></table>
<h2 id="適用情境與選擇指南"><a href="#適用情境與選擇指南" class="headerlink" title="適用情境與選擇指南"></a>適用情境與選擇指南</h2><table>
<thead>
<tr>
<th><strong>需求類型</strong></th>
<th><strong>建議使用</strong></th>
<th><strong>原因</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>強一致性</strong>，EX: 金融交易、銀行系統</td>
<td>SQL</td>
<td>支持 ACID 特性，確保資料一致性和完整性。</td>
</tr>
<tr>
<td><strong>高併發讀取</strong>，EX: 社交媒體平台</td>
<td>NoSQL (鍵值或文件型)</td>
<td>分布式架構能有效處理高併發，Key-Value 適合快速讀寫需求。</td>
</tr>
<tr>
<td><strong>頻繁關聯查詢</strong>，EX: ERP 系統</td>
<td>SQL</td>
<td>支持 JOIN 和複雜查詢操作。</td>
</tr>
<tr>
<td><strong>快速變化的資料結構</strong>，如物聯網數據分析</td>
<td>NoSQL (文件型)</td>
<td>資料結構靈活，能適應快速變化的需求。</td>
</tr>
<tr>
<td><strong>大規模儲存與數據分片</strong>，如分布式日誌系統</td>
<td>NoSQL (列式或鍵值型)</td>
<td>支持水平擴展和分片，適合處理大規模資料。</td>
</tr>
</tbody></table>
<h2 id="是否一定要選擇-NoSQL？"><a href="#是否一定要選擇-NoSQL？" class="headerlink" title="是否一定要選擇 NoSQL？"></a>是否一定要選擇 NoSQL？</h2><p>隨著應用場景的多樣化，NoSQL 的確解決了許多傳統 SQL 資料庫難以處理的問題，但它並不一定適合所有情況。如果你的應用需要強一致性或關聯查詢頻繁，SQL 仍然是最好的選擇。而對於靈活性需求高且需要處理大規模分布式數據的情況，NoSQL 則更具優勢。<br>++重要的是根據你的實際需求選擇最合適的技術，而不是盲目追求新的趨勢或工具++。</p>
]]></content>
      <tags>
        <tag>Database</tag>
        <tag>SQL</tag>
        <tag>NoSQL</tag>
        <tag>資料庫</tag>
      </tags>
  </entry>
  <entry>
    <title>深入淺出理解 Kubernetes/ Docker/ Container/ VM 概念</title>
    <url>/2025/01/14/Kubernetes:-Docker:-Container:-VM-%E6%A6%82%E5%BF%B5/</url>
    <content><![CDATA[<h2 id="為什麼需要這些技術？"><a href="#為什麼需要這些技術？" class="headerlink" title="為什麼需要這些技術？"></a>為什麼需要這些技術？</h2><p>隨著應用程式越來越複雜，我們需要更靈活、高效的方式來部署和管理它們。傳統的硬體配置已經無法滿足快速變動的需求，因此「虛擬化技術」和「容器化技術」應運而生。</p>
<span id="more"></span>

<h2 id="什麼是-VM？"><a href="#什麼是-VM？" class="headerlink" title="什麼是 VM？"></a>什麼是 VM？</h2><p>虛擬機 (Virtual Machine) 是利用虛擬化技術，虛擬化整個硬體 (Hardware) 層，把一台實體機 (Host) 分割成多個彼此獨立的環境 (Guest) &#x3D;&gt; 模擬的是［整台機器］<br>每個 VM 都有自己的作業系統 (Operating System)，並模擬硬體資源 (CPU、記憶體、網路…等)。</p>
<ul>
<li><strong>優點</strong>：<ul>
<li>完全隔離，安全性高。</li>
<li>支援多種作業系統 (Windows、Linux、Ubuntu)。</li>
</ul>
</li>
<li><strong>缺點</strong>：<ul>
<li>資源消耗較大，因為每個 VM 都需要一整套作業系統。</li>
<li>啟動速度較慢。</li>
</ul>
</li>
</ul>
<h2 id="什麼是容器-Container-？"><a href="#什麼是容器-Container-？" class="headerlink" title="什麼是容器 (Container)？"></a>什麼是容器 (Container)？</h2><p>容器是一種比 VM 更輕量的技術，虛擬化的作業系統層，讓應用程式及其依賴環境打包成獨立的單位來執行。它共享宿主機的作業系統核心，但彼此之間隔離。 &#x3D;&gt; 模擬的是［應用程式環境］<br>透過容器引擎 (ex: Docker、Podman)，容器可以快速啟動並執行應用程式。</p>
<ul>
<li><strong>優點</strong>：<ul>
<li>輕量：共享作業系統核心，減少資源需求。</li>
<li>啟動快速：秒級啟動，比 VM 更高效。</li>
<li>可移植性強：應用程式「打包一次，運行到處」。</li>
</ul>
</li>
<li><strong>缺點</strong>：<ul>
<li>相較 VM 隔離性稍弱 (取決於設定)。</li>
</ul>
</li>
</ul>
<h2 id="Docker：容器化技術的代名詞"><a href="#Docker：容器化技術的代名詞" class="headerlink" title="Docker：容器化技術的代名詞"></a>Docker：容器化技術的代名詞</h2><p>Docker 是一種用於建立、部署和運行容器的開放平台。<br>將應用程式及其依賴項打包在輕量級的容器中，確保一致性和移植性。</p>
<ul>
<li><strong>核心概念</strong>：<ul>
<li><strong>Image</strong> (映像檔)：容器的靜態模板。</li>
<li><strong>Container</strong> (容器)：從映像檔啟動的執行實例。</li>
<li><strong>Registry</strong> (註冊伺服器)：儲存與分發映像檔的倉庫 (如 Docker Hub)。</li>
</ul>
</li>
<li><strong>實用場景</strong>：<ul>
<li>在本地開發環境中模擬多服務架構。</li>
<li>快速測試和部署應用程式。</li>
</ul>
</li>
</ul>
<h2 id="Kubernetes-K8s-：容器的指揮官"><a href="#Kubernetes-K8s-：容器的指揮官" class="headerlink" title="Kubernetes (K8s)：容器的指揮官"></a>Kubernetes (K8s)：容器的指揮官</h2><p>K8s 是管理容器 (ex: 調度、擴容、故障恢復) 的開源平台，專為大規模分散式系統設計。</p>
<ul>
<li><strong>主要功能</strong>：<ul>
<li><strong>自動化部署</strong>：根據定義文件部署應用。</li>
<li><strong>資源調度</strong>：動態分配計算資源。</li>
<li><strong>彈性伸縮</strong>：根據負載自動擴展或縮減容器數量。</li>
<li><strong>服務發現</strong>：為應用程式提供內建的 DNS 支援。</li>
</ul>
</li>
<li><strong>實用場景</strong>：<ul>
<li>微服務架構 (Microservices) 中管理數百甚至數千個容器。</li>
<li>高流量應用需要動態擴展。</li>
</ul>
</li>
</ul>
<h2 id="比較"><a href="#比較" class="headerlink" title="比較"></a>比較</h2><table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>Kubernetes</strong></th>
<th><strong>Docker</strong></th>
<th><strong>虛擬機 (VM)</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>管理對象</strong></td>
<td>容器 (集群層級管理)</td>
<td>容器 (單機層級管理)</td>
<td>整個操作系統</td>
</tr>
<tr>
<td><strong>隔離層級</strong></td>
<td>基於容器與命名空間(Namespace)</td>
<td>基於容器與命名空間(Namespace)</td>
<td>基於虛擬硬體</td>
</tr>
<tr>
<td><strong>隔離性</strong></td>
<td>N&#x2F;A (管理工具)</td>
<td>中</td>
<td>高</td>
</tr>
<tr>
<td><strong>資源效率</strong></td>
<td>輕量級 (容器共享同一內核)</td>
<td>輕量級 (容器共享同一內核)</td>
<td>重量級 (每個)VM 有獨立的內核)</td>
</tr>
<tr>
<td><strong>啟動速度</strong></td>
<td>快 (秒級)</td>
<td>快 (秒級)</td>
<td>慢 (分鐘級)</td>
</tr>
<tr>
<td><strong>運行環境的靈活性</strong></td>
<td>高 (容器自動調度與管理)</td>
<td>中 (單機或簡單的容器編排)</td>
<td>低 (操作系統層級管理)</td>
</tr>
<tr>
<td><strong>工具</strong></td>
<td>Kubernetes</td>
<td>Docker</td>
<td>VirtualBox、VMware</td>
</tr>
</tbody></table>
<h2 id="應用情境"><a href="#應用情境" class="headerlink" title="應用情境"></a>應用情境</h2><ul>
<li><strong>虛擬機</strong><br>當你需要在單台硬體上跑多個不同作業系統的應用 (ex:  Windows + Linux)。</li>
<li><strong>容器</strong><br>部署輕量、可攜式的微服務，適合 CI&#x2F;CD Pipline、自動化測試。</li>
<li><strong>Kubernetes</strong><br>大型分散式系統需要高效管理，且擁有動態流量需求的場景。</li>
</ul>
<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><ul>
<li>虛擬機是傳統的隔離方案，適合需要高安全性的場景。</li>
<li>容器則是現代化應用的主流解決方案，輕量且靈活。</li>
<li>Docker 是目前最受歡迎的容器化技術，提供簡單易用的工具來打包、分發和執行應用程式，讓開發與部署更加高效。</li>
<li>Kubernetes 是容器化技術的最佳管理工具，幫助我們在大規模維運中游刃有餘。</li>
</ul>
<div class="note info"><p>VM 是重量，Container 是輕量，Kubernetes 是管家！</p>
</div>

]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>Kubernetes</tag>
        <tag>Container</tag>
        <tag>VM</tag>
        <tag>Containerized</tag>
        <tag>Virtualized</tag>
        <tag>容器化技術</tag>
        <tag>虛擬化</tag>
      </tags>
  </entry>
  <entry>
    <title>單體架構 vs 微服務架構：選擇的關鍵與應用</title>
    <url>/2025/01/15/%E5%96%AE%E9%AB%94%E6%9E%B6%E6%A7%8B-vs-%E5%BE%AE%E6%9C%8D%E5%8B%99%E6%9E%B6%E6%A7%8B%EF%BC%9A%E9%81%B8%E6%93%87%E7%9A%84%E9%97%9C%E9%8D%B5%E8%88%87%E6%87%89%E7%94%A8/</url>
    <content><![CDATA[<h2 id="為什麼要了解單體架構和微服務架構？"><a href="#為什麼要了解單體架構和微服務架構？" class="headerlink" title="為什麼要了解單體架構和微服務架構？"></a>為什麼要了解單體架構和微服務架構？</h2><p>隨著技術的快速發展，軟體架構設計已經成為每個工程師必須掌握的核心知識之一。<br>無論你是正在開發新產品的初創團隊，還是維護大型系統的資深工程師，選擇適合的架構直接影響系統的穩定性、性能和團隊效率。</p>
<p>然而，對於剛接觸架構設計的初學者來說，「單體架構」與「微服務架構」之間的選擇常常令人困惑：</p>
<ul>
<li>單體架構似乎簡單直接，但為什麼大家都在討論微服務？</li>
<li>微服務聽起來很先進，但是否真的適合所有場景？</li>
<li>團隊是否一定要採用最新技術，才能保持競爭力？</li>
</ul>
<span id="more"></span>

<h2 id="單體架構-Monolithic-是什麼？"><a href="#單體架構-Monolithic-是什麼？" class="headerlink" title="單體架構 (Monolithic) 是什麼？"></a>單體架構 (Monolithic) 是什麼？</h2><p>Monolithic 是傳統的軟體設計方式，將應用程式的所有功能打包在一個整體中。</p>
<ul>
<li>所有功能模組共享同一個代碼庫和部署單位。</li>
<li>通常包含三層結構：UI 層、業務邏輯層、數據層。</li>
</ul>
<p><strong>優點</strong>：</p>
<ul>
<li><strong>簡單性</strong>：適合小型或初期專案，開發與部署流程直觀。</li>
<li><strong>性能好</strong>：內部調用通常比分布式架構更快。</li>
<li><strong>工具支援廣</strong>：不需要額外的運行時環境管理 (例如 Kubernetes)。</li>
</ul>
<p><strong>缺點</strong>：</p>
<ul>
<li><strong>耦合性高</strong>：修改或新增功能可能影響整體應用。</li>
<li><strong>難以擴展</strong>：所有功能部署在一起，無法針對單一模組進行擴展。</li>
<li><strong>可靠性低</strong>：一個模組出問題，可能導致整個應用崩潰。</li>
</ul>
<h2 id="微服務架構-Microservices-是什麼？"><a href="#微服務架構-Microservices-是什麼？" class="headerlink" title="微服務架構 (Microservices) 是什麼？"></a>微服務架構 (Microservices) 是什麼？</h2><p>Microservices 將應用拆分成一系列獨立的服務，每個服務負責一個特定的功能或業務邏輯。</p>
<ul>
<li>每個服務都可以獨立開發、部署和維護。</li>
<li>服務之間通過 API (例如 REST 或 gRPC) 進行通信。</li>
</ul>
<p><strong>優點</strong>：</p>
<ul>
<li><strong>高擴展性</strong>：可以針對流量高的服務單獨擴展 (如用戶認證服務)。</li>
<li><strong>高可用性</strong>：單個服務故障不會影響整體系統。</li>
<li><strong>靈活開發</strong>：不同團隊可以用不同技術棧構建自己的服務。</li>
</ul>
<p><strong>缺點</strong>：</p>
<ul>
<li><strong>複雜性增加</strong>：服務之間的通信、數據一致性和分布式監控變得更困難。</li>
<li><strong>部署挑戰</strong>：需要配合容器化 (Docker)、編排工具 (Kubernetes) 和 CI&#x2F;CD 管線。</li>
<li><strong>運營成本高</strong>：需要專門的基礎設施和人員來維護。</li>
</ul>
<h2 id="單體架構一定要轉成微服務嗎？"><a href="#單體架構一定要轉成微服務嗎？" class="headerlink" title="單體架構一定要轉成微服務嗎？"></a>單體架構一定要轉成微服務嗎？</h2><p>不一定！選擇架構應根據業務需求和資源狀況，而非追求潮流。</p>
<p><strong>應該轉為 Microservices 的情境</strong>：</p>
<ol>
<li><strong>系統龐大且複雜</strong>：單體架構已經無法快速迭代和部署。</li>
<li><strong>流量分布不均</strong>：某些功能的流量特別高，需要獨立擴展 (例如商品查詢 vs 購物車)。</li>
<li><strong>團隊規模擴大</strong>：不同功能模組需要由多個團隊並行開發，避免資源衝突。</li>
<li><strong>多樣性需求</strong>：需要引入不同的技術或框架來滿足特定模組需求。</li>
</ol>
<p><strong>適合保留 Monolithic 的情境</strong>：</p>
<ol>
<li><strong>小型專案</strong>：團隊規模小，開發與維護的成本可控。</li>
<li><strong>需求穩定</strong>：業務場景簡單，功能變化不大。</li>
<li><strong>資源有限</strong>：運營人員、基礎設施或時間不足以支撐Microservices的高複雜度。</li>
</ol>
<h2 id="比較"><a href="#比較" class="headerlink" title="比較"></a>比較</h2><table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>Monolithic</strong></th>
<th><strong>Microservices</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>耦合性</strong></td>
<td>高</td>
<td>低</td>
</tr>
<tr>
<td><strong>開發速度</strong></td>
<td>快 (初期)</td>
<td>慢 (初期)</td>
</tr>
<tr>
<td><strong>部署頻率</strong></td>
<td>整體部署</td>
<td>單獨部署</td>
</tr>
<tr>
<td><strong>擴展方式</strong></td>
<td>整體擴展</td>
<td>單點擴展</td>
</tr>
<tr>
<td><strong>技術多樣性</strong></td>
<td>單一技術棧</td>
<td>支援多種技術</td>
</tr>
<tr>
<td><strong>可靠性</strong></td>
<td>低 (單點故障影響整體)</td>
<td>高 (服務隔離，降低故障影響範圍)</td>
</tr>
</tbody></table>
<h2 id="應用情境"><a href="#應用情境" class="headerlink" title="應用情境"></a>應用情境</h2><ul>
<li><p><strong>Monolithic</strong>：<br>適用於小型企業網站、早期 MVP 開發、簡單內部工具等。</p>
</li>
<li><p><strong>Microservices</strong>：<br>適用於電子商務平台 (如亞馬遜)、流媒體服務 (如 Netflix)、高度擴展的分布式應用。</p>
</li>
</ul>
<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><ul>
<li>Monolithic 更適合快速啟動，Microservices 則適合長期運營的大型專案。</li>
<li><strong>切換前的提醒</strong>：轉向 Microservices 需要全面考慮團隊技能、基礎設施、業務需求，避免「過度設計」。</li>
<li><strong>最佳策略</strong>：採取 <strong>分段拆解法</strong>，先從最關鍵的模組開始，逐步轉型，平衡效能與複雜度。</li>
</ul>
<div class="note info"><p>選擇架構，不是看技術有多潮，而是看它是否真正解決你的問題！<br>這不僅是一場技術選擇，也是平衡效率與效能的一場藝術</p>
</div>
]]></content>
      <tags>
        <tag>微服務</tag>
        <tag>Monolithic</tag>
        <tag>Microservices</tag>
        <tag>單體架構</tag>
        <tag>系統架構</tag>
      </tags>
  </entry>
  <entry>
    <title>[分享] Website Layout - Sidebar + Flexed</title>
    <url>/2021/04/01/%E5%88%86%E4%BA%AB-Website-Layout-Sidebar-Flexed/</url>
    <content><![CDATA[<blockquote>
<p>實習開發網站，常遇到一些功能需求要上網查詢，整理成筆記以後再用到就不用又從頭開始找，也希望幫助到正在找學這些功能的人</p>
</blockquote>
<span id="more"></span>

<iframe width="100%" height="500" src="https://codepen.io/ZZYume/embed/NWddogz?height=265&theme-id=dark&default-tab=result" frameborder="0"></iframe>

<p>&#x2F;&#x2F; 有空再認真補教學</p>
]]></content>
      <categories>
        <category>html</category>
      </categories>
      <tags>
        <tag>sidebar</tag>
        <tag>html</tag>
        <tag>css</tag>
        <tag>javascript</tag>
        <tag>jquery</tag>
        <tag>Bootstrap</tag>
        <tag>Bootstrap-table</tag>
        <tag>card</tag>
      </tags>
  </entry>
  <entry>
    <title>[學習] Check.io - Bigger Price</title>
    <url>/2021/03/17/%E5%AD%B8%E7%BF%92-Check-io-Bigger-Price/</url>
    <content><![CDATA[<blockquote>
<p>check.io 上的題目：求出 list 裡 topN 貴的物品儲存方式是dicionary，每個物品各有兩個 key 分別為 name &amp; price<br>此系列文章主要是自己在解題時覺得有趣的題目，記錄下來讓自己以後好複習，有興趣的人可以參考看看</p>
</blockquote>
<span id="more"></span>

<p>先來看看題目</p>
<p><img src="https://i.imgur.com/ss2IjD4.png"></p>
<p>看完題目可能會覺得小複雜，一般題目出有關 dictionary 的題目大多都只要找出一個最大或最小的 key 值，很直覺就會想到要用max&#x2F;min的函式來解決(詳細用法在<a href="https://zanazhong.github.io/2021/01/14/%E5%AD%B8%E7%BF%92-Check-io-Nearest-Value/#more">此篇文章</a>有提到)，這裡還要找不只一個，但認真想想其實也沒很難，用sort就可以一行輕鬆解決了。</p>
<h3 id="sorted-的用法"><a href="#sorted-的用法" class="headerlink" title="sorted 的用法"></a>sorted 的用法</h3><div class="note default"><p>語法：sorted(list, key&#x3D;parameters, reverse&#x3D;True&#x2F;False)</p>
</div>

<h4 id="基本"><a href="#基本" class="headerlink" title="基本"></a>基本</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = [<span class="number">3</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">9</span>]</span><br><span class="line">y = <span class="built_in">sorted</span>(x)</span><br><span class="line"><span class="built_in">print</span>(y)</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[1, 2, 3, 6, 9]</span><br></pre></td></tr></table></figure>

<p>反向排序(大到小)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">y = <span class="built_in">sorted</span>(x, reverse=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[9, 6, 3, 2, 1]</span><br></pre></td></tr></table></figure>

<h4 id="進階"><a href="#進階" class="headerlink" title="進階"></a>進階</h4><p>example 1:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = [(<span class="string">&quot;Amy&quot;</span>, <span class="number">150</span>, <span class="number">60</span>),</span><br><span class="line">     (<span class="string">&quot;Emily&quot;</span>, <span class="number">154</span>, <span class="number">55</span>),</span><br><span class="line">     (<span class="string">&quot;Wen&quot;</span>, <span class="number">145</span>, <span class="number">70</span>)]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(x, key=<span class="keyword">lambda</span> a: a[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[(&#39;Wen&#39;, 145, 70), (&#39;Amy&#39;, 150, 60), (&#39;Emily&#39;, 154, 55)]</span><br></pre></td></tr></table></figure>

<p>example 2:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = [&#123;<span class="string">&quot;fruit&quot;</span>: <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">20</span>&#125;,</span><br><span class="line">     &#123;<span class="string">&quot;fruit&quot;</span>: <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">18</span>&#125;,</span><br><span class="line">     &#123;<span class="string">&quot;fruit&quot;</span>: <span class="string">&quot;peach&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">25</span>&#125;] </span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(x, key=<span class="keyword">lambda</span> x: x[<span class="string">&quot;price&quot;</span>]))</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[&#123;&#39;fruit&#39;: &#39;banana&#39;, &#39;price&#39;: 18&#125;, &#123;&#39;fruit&#39;: &#39;apple&#39;, &#39;price&#39;: 20&#125;, &#123;&#39;fruit&#39;: &#39;peach&#39;, &#39;price&#39;: 25&#125;]</span><br></pre></td></tr></table></figure>

<h3 id="解答："><a href="#解答：" class="headerlink" title="解答："></a>解答：</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bigger_price</span>(<span class="params">limit: <span class="built_in">int</span>, data: <span class="built_in">list</span></span>) -&gt; <span class="built_in">list</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        TOP most expensive goods</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sorted</span>(data, key=<span class="keyword">lambda</span> d: d[<span class="string">&#x27;price&#x27;</span>], reverse=<span class="literal">True</span>)[:limit]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">from</span> pprint <span class="keyword">import</span> pprint</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Example:&#x27;</span>)</span><br><span class="line">    pprint(bigger_price(<span class="number">2</span>, [</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;bread&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">100</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;wine&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">138</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;meat&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">15</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;water&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">1</span>&#125;</span><br><span class="line">    ]))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># These &quot;asserts&quot; using for self-checking and not for auto-testing</span></span><br><span class="line">    <span class="keyword">assert</span> bigger_price(<span class="number">2</span>, [</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;bread&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">100</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;wine&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">138</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;meat&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">15</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;water&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">1</span>&#125;</span><br><span class="line">    ]) == [</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;wine&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">138</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;bread&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">100</span>&#125;</span><br><span class="line">    ], <span class="string">&quot;First&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">assert</span> bigger_price(<span class="number">1</span>, [</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;pen&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">5</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;whiteboard&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">170</span>&#125;</span><br><span class="line">    ]) == [&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;whiteboard&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">170</span>&#125;], <span class="string">&quot;Second&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Done! Looks like it is fine. Go and check it&#x27;</span>)</span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>Check.io</category>
        <category>python</category>
      </categories>
      <tags>
        <tag>Check.io</tag>
        <tag>python</tag>
        <tag>lambda</tag>
        <tag>sort</tag>
        <tag>list</tag>
        <tag>dictionary</tag>
      </tags>
  </entry>
  <entry>
    <title>[學習] Check.io - Nearest Value</title>
    <url>/2021/01/14/%E5%AD%B8%E7%BF%92-Check-io-Nearest-Value/</url>
    <content><![CDATA[<blockquote>
<p><a href="https://py.checkio.org/en/mission/nearest-value/">check.io</a> 上的題目：求出與指定數字最接近之值<br>此系列文章主要是自己在解題時覺得有趣的題目，記錄下來讓自己以後好複習，有興趣的人可以參考看看</p>
</blockquote>
<span id="more"></span>

<p><img src="https://i.imgur.com/JQbrSnX.png"></p>
<h3 id="lamdba-的用法"><a href="#lamdba-的用法" class="headerlink" title="lamdba 的用法"></a>lamdba 的用法</h3><div class="note default"><p>語法： lambda parameters: expression</p>
</div>

<ul>
<li>parameters (參數) 可以是多個參數，參數間要由 “ , ” 作間隔</li>
<li>expression (運算式)</li>
</ul>
<p>example_1 input:</p>
<figure class="highlight python"><figcaption><span>example_1</span></figcaption><table><tr><td class="code"><pre><span class="line">a = <span class="keyword">lambda</span> x: x**<span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(a(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>

<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">100</span><br></pre></td></tr></table></figure>

<p>example_2 input:</p>
<figure class="highlight python"><figcaption><span>example_2</span></figcaption><table><tr><td class="code"><pre><span class="line">a = <span class="keyword">lambda</span> x, y: x * y</span><br><span class="line"><span class="built_in">print</span>(a(<span class="number">10</span>, <span class="number">11</span>))</span><br></pre></td></tr></table></figure>

<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">110</span><br></pre></td></tr></table></figure>
<p>以 example_1 為例 lambda 也等於</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">example</span>(<span class="params">x</span>):</span></span><br><span class="line">   <span class="keyword">return</span> x**<span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(example(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>

<p>以 example_2 為例 example_2 也可以寫成</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print((lambda x, y: x * y)(10, 11))</span><br></pre></td></tr></table></figure>

<h3 id="min-x2F-max-的用法"><a href="#min-x2F-max-的用法" class="headerlink" title="min&#x2F;max 的用法"></a>min&#x2F;max 的用法</h3><div class="note default"><p>語法： max(parameters, key&#x3D;expression)</p>
</div>
<ul>
<li>expression (運算式) 返回要執行比較的值 (滿抽象的QQ</li>
</ul>
<p>example_1 input:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">list &#x3D; [(1, &#39;a&#39;), (6, &#39;d&#39;), (4, &#39;e&#39;), (-2, &#39;y&#39;)]</span><br><span class="line">max(list)</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(6, &#39;d&#39;)</span><br></pre></td></tr></table></figure>

<p>example_2 input:</p>
<blockquote>
<p>tuple 型態，比較的話會先看第一個位置的值，一樣的話看第二個位置的值</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">list &#x3D; [(1, &#39;a&#39;), (6, &#39;d&#39;), (6, &#39;e&#39;), (-2, &#39;y&#39;)]</span><br><span class="line">max(list)</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(6, &#39;e&#39;)</span><br></pre></td></tr></table></figure>

<p>example_3 input:</p>
<blockquote>
<p>tuple 型態，指定要比較的為每個 tuple 裡 index&#x3D;1 的值</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">list &#x3D; [(1, &#39;a&#39;), (6, &#39;d&#39;), (4, &#39;e&#39;), (-2, &#39;y&#39;)]</span><br><span class="line">max(list, key&#x3D;lambda l: l[1])</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(-2, &#39;y&#39;)</span><br></pre></td></tr></table></figure>

<h3 id="解答："><a href="#解答：" class="headerlink" title="解答："></a>解答：</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nearest_value</span>(<span class="params">values: <span class="built_in">set</span>, one: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">    <span class="comment"># your code here</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">min</span>(values, key=<span class="keyword">lambda</span> x: (<span class="built_in">abs</span>(one - x), x))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Example:&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(nearest_value(&#123;<span class="number">4</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">17</span>&#125;, <span class="number">9</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># These &quot;asserts&quot; are used for self-checking and not for an auto-testing</span></span><br><span class="line">    <span class="keyword">assert</span> nearest_value(&#123;<span class="number">4</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">17</span>&#125;, <span class="number">9</span>) == <span class="number">10</span></span><br><span class="line">    <span class="keyword">assert</span> nearest_value(&#123;<span class="number">4</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">17</span>&#125;, <span class="number">8</span>) == <span class="number">7</span></span><br><span class="line">    <span class="keyword">assert</span> nearest_value(&#123;<span class="number">4</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">17</span>&#125;, <span class="number">9</span>) == <span class="number">8</span></span><br><span class="line">    <span class="keyword">assert</span> nearest_value(&#123;<span class="number">4</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">17</span>&#125;, <span class="number">9</span>) == <span class="number">9</span></span><br><span class="line">    <span class="keyword">assert</span> nearest_value(&#123;<span class="number">4</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">17</span>&#125;, <span class="number">0</span>) == <span class="number">4</span></span><br><span class="line">    <span class="keyword">assert</span> nearest_value(&#123;<span class="number">4</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">17</span>&#125;, <span class="number">100</span>) == <span class="number">17</span></span><br><span class="line">    <span class="keyword">assert</span> nearest_value(&#123;<span class="number">5</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">89</span>, <span class="number">100</span>&#125;, <span class="number">7</span>) == <span class="number">8</span></span><br><span class="line">    <span class="keyword">assert</span> nearest_value(&#123;-<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;, <span class="number">0</span>) == -<span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Coding complete? Click &#x27;Check&#x27; to earn cool rewards!&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h4 id="參考網站"><a href="#參考網站" class="headerlink" title="參考網站"></a>參考網站</h4><ul>
<li><a href="https://www.geeksforgeeks.org/python-find-closest-number-to-k-in-given-list/">https://www.geeksforgeeks.org/python-find-closest-number-to-k-in-given-list/</a></li>
<li><a href="https://stackoverflow.com/questions/18296755/python-max-function-using-key-and-lambda-expression">https://stackoverflow.com/questions/18296755/python-max-function-using-key-and-lambda-expression</a></li>
</ul>
]]></content>
      <categories>
        <category>Check.io</category>
        <category>python</category>
      </categories>
      <tags>
        <tag>Check.io</tag>
        <tag>python</tag>
        <tag>lambda</tag>
        <tag>list</tag>
        <tag>min/max</tag>
      </tags>
  </entry>
  <entry>
    <title>[學習] Python List</title>
    <url>/2021/03/22/%E5%AD%B8%E7%BF%92-Python-List/</url>
    <content><![CDATA[<p>常遇到的問題</p>
<ul>
<li>find the duplicate elements in the list</li>
<li>count the duplicate elements in the list</li>
<li>remove the duplicate elements in the list</li>
</ul>
<span id="more"></span>

<h3 id="List-count-用法"><a href="#List-count-用法" class="headerlink" title="List.count() 用法"></a>List.count() 用法</h3><blockquote>
<p>計算指定的值在 list 出現幾次</p>
</blockquote>
<div class="note default"><p>語法：list.count(element)</p>
</div>

<p>input:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">my_list = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">7</span>]</span><br><span class="line"><span class="built_in">print</span>(my_list.count(<span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(my_list.count(<span class="number">7</span>))</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="進階"><a href="#進階" class="headerlink" title="進階"></a>進階</h4><blockquote>
<p>將 list 裡面所有的 element 都記錄下有幾個</p>
</blockquote>
<p>input:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dup_list = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;a&quot;</span>]</span><br><span class="line">clear_dict = &#123;i: dup_list.count(i) <span class="keyword">for</span> i <span class="keyword">in</span> dup_list&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(clear_dict)</span><br></pre></td></tr></table></figure>
<p>output: </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&#39;a&#39;: 3, &#39;c&#39;: 2, &#39;b&#39;: 1&#125;</span><br></pre></td></tr></table></figure>

<h3 id="另一種用法-Counter"><a href="#另一種用法-Counter" class="headerlink" title="另一種用法 Counter"></a>另一種用法 Counter</h3><div class="note default"><p>需要先 import<br>語法：<br>from collections import Counter<br>Counter(List&#x2F;String)</p>
</div>
<blockquote>
<p>counter 出來的型態通常會轉成 Dictionary 會比較方便～<br>在下面也會示範有轉成 dict 跟沒轉成 dict 的差別</p>
</blockquote>
<p>input:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line">dup_list = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;a&quot;</span>]</span><br><span class="line">count_list = <span class="built_in">dict</span>(Counter(dup_list))</span><br><span class="line">count_string = Counter(<span class="string">&#x27;acacaba&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(count_list)</span><br><span class="line"><span class="built_in">print</span>(count_string)</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&#39;a&#39;: 3, &#39;c&#39;: 2, &#39;b&#39;: 1&#125;</span><br><span class="line">Counter(&#123;&#39;a&#39;: 4, &#39;b&#39;: 1, &#39;c&#39;: 2&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="Counter-的額外用法"><a href="#Counter-的額外用法" class="headerlink" title="Counter 的額外用法"></a>Counter 的額外用法</h4><blockquote>
<p>找出出現次數前 n 多</p>
</blockquote>
<div class="note default"><p>語法： Counter.most_common()</p>
</div>

<p>input:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 接續上一個例子</span></span><br><span class="line"><span class="built_in">print</span>(count_string.most_common(<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(count_string.most_common(<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[(&#39;a&#39;, 4)]</span><br><span class="line">[(&#39;a&#39;, 4), (&#39;c&#39;, 2)]</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>list</tag>
        <tag>count</tag>
      </tags>
  </entry>
  <entry>
    <title>[學習] Pyton - String</title>
    <url>/2021/01/20/%E5%AD%B8%E7%BF%92-Pyton-String/</url>
    <content><![CDATA[<blockquote>
<p>一些關於 String 單字或字首大寫處理的用法</p>
</blockquote>
<span id="more"></span>

<h2 id="字首大寫"><a href="#字首大寫" class="headerlink" title="字首大寫"></a>字首大寫</h2><ul>
<li>capitalize(): 只會將字串的字首轉成大寫，其餘若有大寫的字會轉成小寫</li>
<li>title(): 將字串中所有“單字”的字首轉成大寫</li>
</ul>
<p>input:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">text = <span class="string">&quot;greetings, fiends&quot;</span></span><br><span class="line"><span class="built_in">print</span>(text.capitalize())</span><br><span class="line"><span class="built_in">print</span>(text.title())</span><br></pre></td></tr></table></figure>

<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#39;Greetings, friends&#39;</span><br><span class="line">&#39;Greetings, Fiends&#39;</span><br></pre></td></tr></table></figure>

<p>但 capitalize() 可能會遇到一個問題，若是原本句子中有人名或地名，本身字首就是大寫的單子，在使用 capitalize() 後會變成小寫，因此有另一種方法，如下：</p>
<p>input:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">text = <span class="string">&quot;welcome to New York&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(text[<span class="number">0</span>].upper() + text[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;Welcome to New York&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>lower(): 將字串全部轉成小寫</li>
<li>upper(): 將字串全部轉成大寫</li>
<li>islowewr(): 檢查字串是否全小寫</li>
<li>isupper(): 檢查字串是否全大寫</li>
</ul>
<p>input:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">text = <span class="string">&quot;Hi, my Name is Zana&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(text.lower())</span><br><span class="line"><span class="built_in">print</span>(text.upper())</span><br><span class="line"><span class="built_in">print</span>(text.islowewr())</span><br><span class="line"><span class="built_in">print</span>(text.isupper())</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;hi, my name is zana&quot;</span><br><span class="line">&quot;HI, MY NAME IS ZANA&quot;</span><br><span class="line">False</span><br><span class="line">False</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>string</tag>
      </tags>
  </entry>
  <entry>
    <title>[學習] Pyton  try - except</title>
    <url>/2021/01/31/%E5%AD%B8%E7%BF%92-Pyton-try-except/</url>
    <content><![CDATA[<blockquote>
<p>在開發程式的過程中，難免有會遇到錯誤，例如：使用者輸入不正確的資料、網路連線問題或語法上的問題等，如果沒有做好例外處理的機制，程式碼可能因此而中斷，還會讓使用者看到錯誤訊息，對產品使用的觀感不佳，體驗也會大打折扣。因此，在開發的過程中要考慮到錯誤發生時，程式碼要如何做適當的反應。</p>
</blockquote>
<span id="more"></span>

<p>Python 在例外處理的機制為：</p>
<div class="note default"><p>try 執行<br>except 例外<br>else 都沒出錯就執行這區塊<br>finally 任何狀況下都會執行的區塊</p>
</div>

<p>而錯誤類型可以至<a href="https://docs.python.org/3.6/library/exceptions.html">該網址</a>查看，常見ValueError(ex: int(hi))、ZeroDivisionError(ex: x &#x3D; 2&#x2F;0)、</p>
<p>先來個完整的架構的範例：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        result = x / y</span><br><span class="line">    <span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;不能除以零！&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;結果是：&quot;</span>, result)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Hi，我一定會執行&quot;</span>)</span><br><span class="line">func(<span class="number">4</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">func(<span class="number">2</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p>output：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">結果是： 2.0</span><br><span class="line">Hi，我一定會執行</span><br><span class="line">--------------</span><br><span class="line">不能除以零！</span><br><span class="line">Hi，我一定會執行</span><br></pre></td></tr></table></figure>

<p>一般來說可以這樣寫：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">try:</span><br><span class="line">    正常時要執行的程式</span><br><span class="line">except &lt;error type&gt;:</span><br><span class="line">    錯誤時要執行程式</span><br></pre></td></tr></table></figure>

<p>不確定的錯誤類型的話 error type 可以不寫</p>
<p>example：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        result = x / y</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;something wrong&quot;</span>)</span><br><span class="line"></span><br><span class="line">func(<span class="number">4</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">something wrong</span><br></pre></td></tr></table></figure>

<p>sys.exc_info()[0] 可以用來取出 except 的錯誤訊息</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">i = <span class="string">&#x27;o&#x27;</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    result = i / <span class="number">0</span></span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Unexpected error:&quot;</span>, sys.exc_info()[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<p>output：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Unexpected error: &lt;class &#39;TypeError&#39;&gt;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>try-except</tag>
      </tags>
  </entry>
  <entry>
    <title>從架構到流程：完整理解 Docker 的 component 與互動邏輯</title>
    <url>/2025/01/17/%E5%BE%9E%E6%9E%B6%E6%A7%8B%E5%88%B0%E6%B5%81%E7%A8%8B%EF%BC%9A%E5%AE%8C%E6%95%B4%E7%90%86%E8%A7%A3-Docker-%E7%9A%84-component-%E8%88%87%E4%BA%92%E5%8B%95%E9%82%8F%E8%BC%AF/</url>
    <content><![CDATA[<h2 id="為什麼深入了解-Docker-的內部運作很重要？"><a href="#為什麼深入了解-Docker-的內部運作很重要？" class="headerlink" title="為什麼深入了解 Docker 的內部運作很重要？"></a>為什麼深入了解 Docker 的內部運作很重要？</h2><p>Docker 是現代容器技術的基石，其方便的指令和快速的容器啟動能力，讓開發者與運維工程師能快速上手。然而，當應用程式進入生產環境，或系統遇到性能瓶頸與故障時，深入理解 Docker 的內部架構和運作流程便相當重要。</p>
<p>在本文教學中，我們將聚焦於 Docker 的核心組件（EX: <strong>Docker Client</strong>、<strong>Docker Daemon</strong>、<strong>Containerd</strong>、<strong>OCI Runtime</strong>…等）及其之間的互動關係，並帶你探索從下載 Image 檔到啟動 Container 的完整流程，幫助你掌握 Docker 的內部邏輯。</p>
<span id="more"></span>

<h2 id="核心組件與角色"><a href="#核心組件與角色" class="headerlink" title="核心組件與角色"></a>核心組件與角色</h2><h3 id="Docker-Client"><a href="#Docker-Client" class="headerlink" title="Docker Client"></a>Docker Client</h3><blockquote>
<p>用戶與 Docker 互動的入口，通過命令 (如 <code>docker run</code>、<code>docker build</code>) 向 Docker Daemon 發送請求。</p>
</blockquote>
<ul>
<li><strong>互動對象</strong>：與 Docker Daemon 通訊 (通常通過 REST API 或 UNIX Socket)。</li>
<li><strong>位置</strong>：用戶本地環境。</li>
</ul>
<h3 id="Docker-Daemon"><a href="#Docker-Daemon" class="headerlink" title="Docker Daemon"></a>Docker Daemon</h3><blockquote>
<p>Docker 的核心服務 process ，負責接收 Client 請求並執行具體操作，EX: 拉取 Image、創建 Container，並協調後續所有 Container 生命週期、Image 管理、網路、儲存…等工作。<br>早期 Docker Daemon 自己直接管理 Container，但後來將 Container 執行的部分抽象化給 <strong><code>Containerd</code></strong> 去處理。</p>
</blockquote>
<ul>
<li><strong>內部構成</strong>：<ul>
<li><strong>Containerd</strong>：Container 管理層，負責++管理容器的生命周期++ (EX: 啟動、停止)。</li>
<li><strong>Containerd-shim</strong>：中介層，確保 Container 與 Containerd 的解耦，讓 Container 在 Containerd 崩潰後仍能運行。</li>
<li>**OCI Runtime (EX: runc)**：執行層，負責啟動和管理容器的隔離 process 。</li>
</ul>
</li>
</ul>
<h3 id="Registry"><a href="#Registry" class="headerlink" title="Registry"></a>Registry</h3><blockquote>
<p>Image 儲存庫，用於保存和分發 Docker Image。<br>可以是 Public（EX: Docker Hub）或 Private（公司內部架設）。</p>
</blockquote>
<ul>
<li><strong>互動對象</strong>：Docker Daemon 通過拉取或推送操作與 Registry 互動。</li>
<li><strong>常見</strong>：Docker Hub、privete Registry。</li>
</ul>
<h3 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h3><blockquote>
<p>Container 的靜態模板，包含應用程式及其運行所需的依賴和配置。</p>
</blockquote>
<ul>
<li><strong>特性</strong>：<ul>
<li>使用分層文件系統 (UnionFS)，每層代表 Image 的一部分 (EX: 基礎 OS、應用依賴)。</li>
<li>不可變，<strong>可以被多個容器共享</strong>。</li>
</ul>
</li>
<li><strong>互動對象</strong>：由 Docker Daemon 從 Registry 中拉取，並交付給 Containerd 啟動 Container。</li>
</ul>
<h3 id="Container"><a href="#Container" class="headerlink" title="Container"></a>Container</h3><blockquote>
<p>Image 的運行實例，是一個輕量級、隔離的應用運行環境。</p>
</blockquote>
<ul>
<li><strong>運作基礎</strong>：依賴 Linux 的 Namespace 和 Cgroups 技術實現隔離與資源限制。</li>
<li><strong>互動對象</strong>：由 Containerd 調用 OCI Runtime 創建，並由 Containerd-shim 管理。</li>
</ul>
<h3 id="Containerd"><a href="#Containerd" class="headerlink" title="Containerd"></a>Containerd</h3><blockquote>
<p><strong>管理層</strong>，負責 Container 的整體生命周期管理，是 Docker Daemon 的核心子系統。</p>
</blockquote>
<ul>
<li><strong>功能</strong>：<ul>
<li>拉取與管理 Image。</li>
<li>創建與刪除 Container。</li>
<li>調用 OCI Runtime 啟動容器。</li>
</ul>
</li>
<li><strong>互動對象</strong>：通過 Docker Daemon 接收指令，並向 OCI Runtime 傳遞容器配置。</li>
</ul>
<h3 id="Containerd-shim"><a href="#Containerd-shim" class="headerlink" title="Containerd-shim"></a>Containerd-shim</h3><blockquote>
<p><strong>中介層 (中間代理)</strong> ，管理 Container 的生命周期，確保 Container 在 Containerd 崩潰後依然運行。</p>
</blockquote>
<ul>
<li><p><strong>功能</strong>：</p>
<ul>
<li>管理 Container 與父 process 的互動。</li>
</ul>
<ul>
<li>解耦作用：確保容器的執行不依賴於 Containerd 的狀態 (狀態相互獨立)。</li>
<li>資源管理：監控 Container 的 process 狀態。</li>
<li>I&#x2F;O 管理：處理 Container 的輸入&#x2F;輸出數據，方便用戶與 Container 互動。</li>
<li>Container 生命周期管理：處理 Container 的啟動、停止及 process 監控(不因 containerd daemon 本身的重啟而中斷)。</li>
</ul>
</li>
<li><p><strong>互動對象</strong>：</p>
<ul>
<li>作為 Containerd 與容器之間的橋接，解耦 Container 與 Containerd。</li>
<li>與底層的 OCI Runtime 溝通，啟動 Container process。</li>
</ul>
</li>
</ul>
<div class="note info"><ul>
<li>shim 就像是「轉接器」或「支架（shim）」的概念，一個 Container 對應一個 shim。</li>
<li>Container 啟動後，<code>Containerd-shim</code> 會取代 <code>Containerd</code> 成為 Container 的父 process，確保即使 <code>Containerd</code> 崩潰，Container 仍然能持續運行。</li>
</ul>
</div>

<h3 id="OCI-Runtime-EX-runc"><a href="#OCI-Runtime-EX-runc" class="headerlink" title="OCI Runtime (EX: runc)"></a>OCI Runtime (EX: runc)</h3><blockquote>
<p><strong>執行層</strong>，基於 OCI (Open Container Initiative) 規範的運行時工具，負責實際啟動 Container。</p>
</blockquote>
<ul>
<li><strong>功能</strong>：<ul>
<li>設置 Container 的++隔離環境++ (Namespace、Cgroups…等)。</li>
<li>啟動 Container 內的應用 process 。</li>
</ul>
</li>
<li><strong>互動對象</strong>：由 Containerd 呼叫，執行容器啟動的具體邏輯。</li>
</ul>
<p>最常見的 OCI Runtime 是 runc，它是 OCI Runtime 的一個具體實現，專門處理容器的低層操作。</p>
<h3 id="OCI-Spec-規範"><a href="#OCI-Spec-規範" class="headerlink" title="OCI Spec (規範)"></a>OCI Spec (規範)</h3><blockquote>
<p>一套 Container 運行時的標準規範，定義 Container 的配置文件格式和行為。</p>
</blockquote>
<ul>
<li><strong>功能</strong>：<ul>
<li>描述 Container 的資源設置 (EX: CPU、Memory)。</li>
<li>定義 Container 的文件系統掛載點。</li>
<li>設置 process 的啟動命令和參數。</li>
<li>配置 Namespace 隔離（EX: 網路、PID、用戶等）。</li>
</ul>
</li>
<li><strong>內容</strong>：<ul>
<li>Container 的資源配置 (EX: CPU、Memory)。</li>
<li>Namespace 和檔案系統的隔離規則。</li>
</ul>
</li>
<li><strong>主要構成</strong>：<ul>
<li><code>config.json</code>：定義 Container 的配置，EX: 環境變量、文件系統、資源限制。</li>
<li><code>runtime-spec</code>：描述 Container 的行為規範，OCI Runtime 依此實現運行時行為。</li>
</ul>
</li>
<li><strong>互動對象</strong>：OCI Runtime 根據 OCI Spec 配置 Container 環境。</li>
</ul>
<h2 id="運作流程"><a href="#運作流程" class="headerlink" title="運作流程"></a>運作流程</h2><p>以下是執行 <code>docker run</code> 指令的完整過程：</p>
<h3 id="發送指令"><a href="#發送指令" class="headerlink" title="發送指令"></a>發送指令</h3><ul>
<li><strong>步驟</strong>：使用者執行 <code>docker run hello-world</code>。</li>
<li><strong>互動對象</strong>：Docker Client 將請求發送給 Docker Daemon。</li>
</ul>
<h3 id="拉取-Image"><a href="#拉取-Image" class="headerlink" title="拉取 Image"></a>拉取 Image</h3><ul>
<li><strong>步驟</strong>：Docker Daemon 檢查本地是否存在 Image ，若無則從 Registry 拉取。</li>
<li><strong>互動對象</strong>：Docker Daemon 與 Registry 通訊，下載 Image 後存儲於本地。</li>
</ul>
<h3 id="創建-Container"><a href="#創建-Container" class="headerlink" title="創建 Container"></a>創建 Container</h3><ul>
<li><strong>步驟</strong>：<ol>
<li>Docker Daemon 通過 Containerd 請求創建容器。</li>
<li>Containerd 調用 OCI Runtime (如 runc)，基於 OCI Spec 配置容器環境。</li>
</ol>
</li>
<li><strong>互動對象</strong>：<ul>
<li>Docker Daemon → Containerd → OCI Runtime。</li>
</ul>
</li>
</ul>
<h3 id="啟動容器"><a href="#啟動容器" class="headerlink" title="啟動容器"></a>啟動容器</h3><ul>
<li><strong>步驟</strong>：<ol>
<li>OCI Runtime 配置命名空間、Cgroups，並啟動 Container process。</li>
<li>Containerd-shim 接管 Container process 的管理，與父 process 解耦。</li>
</ol>
</li>
<li><strong>互動對象</strong>：<ul>
<li>OCI Runtime → Containerd-shim。</li>
</ul>
</li>
</ul>
<h3 id="運行與管理"><a href="#運行與管理" class="headerlink" title="運行與管理"></a>運行與管理</h3><ul>
<li><strong>步驟</strong>：容器進入運行狀態，Docker Client 可通過命令與容器互動。</li>
<li><strong>互動對象</strong>：<ul>
<li>Docker Client → Docker Daemon → Containerd。</li>
</ul>
</li>
</ul>
<h2 id="架構圖"><a href="#架構圖" class="headerlink" title="架構圖"></a>架構圖</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">+-----------------------------------+</span><br><span class="line">|           Docker Client           |</span><br><span class="line">+-----------------------------------+</span><br><span class="line">                  |</span><br><span class="line">                  v</span><br><span class="line">+-----------------------------------+                          +-----------------+ </span><br><span class="line">|           Docker Daemon  ---------|--(pull image if needed)-&gt;| Registry Client |</span><br><span class="line">|        +----------------+         |                          +-----------------+ </span><br><span class="line">|        |   Containerd   |         |                                    |</span><br><span class="line">|        +----------------+         |                                    v </span><br><span class="line">|                 |                 |                              +------------+</span><br><span class="line">|                 v                 |                              |  Registry  |</span><br><span class="line">|        +-----------------+        |                              +------------+</span><br><span class="line">|        | Containerd-shim |        |</span><br><span class="line">|        +-----------------+        |</span><br><span class="line">|                 |                 |</span><br><span class="line">|                 v                 |</span><br><span class="line">|        +-----------------+        |</span><br><span class="line">|        |   OCI Runtime   |        |</span><br><span class="line">|        +-----------------+        |</span><br><span class="line">|                 |                 |</span><br><span class="line">|                 v                 |</span><br><span class="line">|  Containers (Isolated Processes)  |</span><br><span class="line">+-----------------------------------+</span><br></pre></td></tr></table></figure>

<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><table>
<thead>
<tr>
<th><strong>組件名稱</strong></th>
<th><strong>作用</strong></th>
<th><strong>互動對象</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Docker Client</td>
<td>接收用戶指令，發送給 Docker Daemon</td>
<td>Docker Daemon</td>
</tr>
<tr>
<td>Docker Daemon</td>
<td>管理 Container 的核心服務，處理 Image 與 Container 操作</td>
<td>Docker Client、Registry、Containerd</td>
</tr>
<tr>
<td>Registry</td>
<td>儲存與分發 Image</td>
<td>Docker Daemon</td>
</tr>
<tr>
<td>Image</td>
<td>Container 的靜態模板</td>
<td>Docker Daemon</td>
</tr>
<tr>
<td>Container</td>
<td>Image 的運行實例</td>
<td>Containerd</td>
</tr>
<tr>
<td>Containerd</td>
<td>管理 Container 的生命周期</td>
<td>Docker Daemon、OCI Runtime</td>
</tr>
<tr>
<td>Containerd-shim</td>
<td>確保 Container 與 Containerd 解耦</td>
<td>Containerd、Container、OCI Runtime</td>
</tr>
<tr>
<td>OCI Runtime (runc)</td>
<td>實際執行Container</td>
<td>Containerd、作業系統</td>
</tr>
<tr>
<td>OCI Spec</td>
<td>Container 配置的標準規範</td>
<td>OCI Runtime</td>
</tr>
</tbody></table>
]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>容器化技術</tag>
        <tag>Containerd</tag>
        <tag>OCI</tag>
        <tag>Architecture</tag>
        <tag>基礎架構</tag>
      </tags>
  </entry>
  <entry>
    <title>深入解析：列式資料（Column-Oriented）與鍵值資料（Key-Value）</title>
    <url>/2025/01/20/%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90%EF%BC%9A%E5%88%97%E5%BC%8F%E8%B3%87%E6%96%99%EF%BC%88Column-Oriented%EF%BC%89%E8%88%87%E9%8D%B5%E5%80%BC%E8%B3%87%E6%96%99%EF%BC%88Key-Value%EF%BC%89/</url>
    <content><![CDATA[<p>在現代應用程式開發中，選擇合適的資料庫類型對於系統效能與可擴展性非常重要。許多人常將列式資料 (Column-Oriented) 與鍵值資料 (Key-Value) 混淆，本文將介紹這兩種存儲方式的概念、優缺點與適用場景，幫助讀者更好地理解並選擇合適的解決方案。</p>
<span id="more"></span>

<h2 id="列式資料-Column-Oriented"><a href="#列式資料-Column-Oriented" class="headerlink" title="列式資料 (Column-Oriented)"></a>列式資料 (Column-Oriented)</h2><blockquote>
<p>列式資料庫是指資料以「列」為單位進行存儲，而非傳統的按「行」存儲方式。它專為需要對特定欄位進行高效的篩選、聚合和分析的應用而設計，適合<strong>大規模</strong>資料分析場景。</p>
</blockquote>
<h2 id="儲存方式範例"><a href="#儲存方式範例" class="headerlink" title="儲存方式範例"></a>儲存方式範例</h2><p>假設有一張用戶資料表：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ID   | Name   | Age</span><br><span class="line">--------------------</span><br><span class="line">1    | Alice  | 25</span><br><span class="line">2    | Bob    | 30</span><br></pre></td></tr></table></figure>

<p>在列式存儲中，數據會這樣存儲：</p>
<ul>
<li>列1 (ID): <code>[1, 2]</code></li>
<li>列2 (Name): <code>[Alice, Bob]</code></li>
<li>列3 (Age): <code>[25, 30]</code></li>
</ul>
<p>這樣的結構使得對某一列的篩選與聚合操作非常高效。</p>
<h2 id="優勢"><a href="#優勢" class="headerlink" title="優勢"></a>優勢</h2><ul>
<li><strong>高效查詢特定列</strong>：只需讀取相關的列，避免不必要的資料讀取。</li>
<li><strong>良好的壓縮率</strong>：同類型資料集中存放，壓縮率高，節省儲存空間。</li>
<li>**適合分析型查詢 (OLAP)**：如統計、報表生成等。</li>
</ul>
<h2 id="缺點"><a href="#缺點" class="headerlink" title="缺點"></a>缺點</h2><ul>
<li><strong>寫入效能較低</strong>：因為數據需分別寫入多個列，插入性能不如行式存儲。</li>
<li><strong>不適合頻繁的更新和刪除</strong>：需要重新整理數據結構。</li>
</ul>
<h2 id="適用場景"><a href="#適用場景" class="headerlink" title="適用場景"></a>適用場景</h2><ul>
<li>資料倉儲系統 (EX: ClickHouse、Apache HBase、Apache Cassandra)</li>
<li>需要頻繁聚合與分析的應用 (EX: BI 報表、即時分析)</li>
</ul>
<h2 id="鍵值資料-Key-Value"><a href="#鍵值資料-Key-Value" class="headerlink" title="鍵值資料 (Key-Value)"></a>鍵值資料 (Key-Value)</h2><blockquote>
<p>鍵值資料庫是一種非關聯式資料庫，將數據存儲為「鍵-值」對的形式。它提供快速查找與讀取操作，特別適合於需要低延遲 &amp; 高吞吐的應用場景。</p>
</blockquote>
<h2 id="儲存方式範例-1"><a href="#儲存方式範例-1" class="headerlink" title="儲存方式範例"></a>儲存方式範例</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Key: user1 -&gt; Value: &#123;&quot;ID&quot;: 1, &quot;Name&quot;: &quot;Alice&quot;, &quot;Age&quot;: 25&#125;</span><br><span class="line">Key: user2 -&gt; Value: &#123;&quot;ID&quot;: 2, &quot;Name&quot;: &quot;Bob&quot;, &quot;Age&quot;: 30&#125;</span><br></pre></td></tr></table></figure>

<p>在鍵值存儲中，資料以獨立的鍵值對方式存放，並透過鍵快速檢索整個值。</p>
<h2 id="優勢-1"><a href="#優勢-1" class="headerlink" title="優勢"></a>優勢</h2><ul>
<li><strong>查詢速度極快</strong>：透過鍵直接定位數據，查找效率高。</li>
<li><strong>高擴展性</strong>：可以水平擴展，適合分佈式架構。</li>
<li><strong>靈活的資料結構</strong>：支援 JSON、XML 等非結構化資料存儲。</li>
</ul>
<h2 id="缺點-1"><a href="#缺點-1" class="headerlink" title="缺點"></a>缺點</h2><ul>
<li><strong>無法針對 Value 進行篩選</strong>：只能根據 Key 來存取數據，++無法輕易查詢值中的具體欄位++。</li>
<li><strong>數據關聯性弱</strong>：不適合有強關聯性的應用，EX: 關聯式數據查詢。</li>
</ul>
<h2 id="適用場景-1"><a href="#適用場景-1" class="headerlink" title="適用場景"></a>適用場景</h2><ul>
<li>快取系統 (EX: Redis、Memcached)</li>
<li>會話管理、使用者偏好設定…等場景</li>
<li>物聯網 IoT 應用，存取大量即時資料</li>
</ul>
<h2 id="比較"><a href="#比較" class="headerlink" title="比較"></a>比較</h2><table>
<thead>
<tr>
<th>比較項目</th>
<th>列式資料 (Column-Oriented)</th>
<th>鍵值資料 (Key-Value)</th>
</tr>
</thead>
<tbody><tr>
<td>儲存方式</td>
<td>按列存儲，數據高度結構化</td>
<td>鍵對應值，值可以是非結構化數據</td>
</tr>
<tr>
<td>查詢效能</td>
<td>適合讀取單一或少數欄位，高效進行聚合和統計</td>
<td>適合快速查找單個鍵的整體數據</td>
</tr>
<tr>
<td>讀取效率</td>
<td>需要讀取列，對整體行查詢速度較慢</td>
<td>直接根據鍵讀取，速度極快</td>
</tr>
<tr>
<td>寫入效能</td>
<td>較慢，因為數據需分列存儲</td>
<td>快速寫入，不需特別拆解數據</td>
</tr>
<tr>
<td>應用場景</td>
<td>數據分析、報表生成、資料倉儲等</td>
<td>快取、用戶會話管理、分散式系統</td>
</tr>
<tr>
<td>常見技術</td>
<td>Apache Cassandra、ClickHouse、HBase</td>
<td>Redis、Memcached、DynamoDB</td>
</tr>
</tbody></table>
<h2 id="如何選擇合適的資料庫？"><a href="#如何選擇合適的資料庫？" class="headerlink" title="如何選擇合適的資料庫？"></a>如何選擇合適的資料庫？</h2><p>在選擇資料庫時，可以根據以下幾點考慮：</p>
<ul>
<li><strong>需要快速存取特定數據時</strong> → 選擇鍵值資料庫，EX: Redis。</li>
<li><strong>需要處理大規模的數據分析時</strong> → 選擇列式資料庫，EX: Apache Cassandra。</li>
<li><strong>需要處理高頻讀取但低頻寫入的場景</strong> → 列式資料庫較適合。</li>
<li><strong>需要高效寫入與查詢整體數據時</strong> → 鍵值資料庫是最佳選擇。</li>
</ul>
]]></content>
      <tags>
        <tag>Database</tag>
        <tag>SQL</tag>
        <tag>NoSQL</tag>
        <tag>資料庫</tag>
        <tag>列式資料</tag>
        <tag>鍵值資料</tag>
      </tags>
  </entry>
  <entry>
    <title>常用 Docker 指令全攻略</title>
    <url>/2025/03/11/%E5%B8%B8%E7%94%A8-Docker-%E6%8C%87%E4%BB%A4%E5%85%A8%E6%94%BB%E7%95%A5/</url>
    <content><![CDATA[<p>歡迎來到 Docker 的指令世界！在<a href="https://zanazhong.github.io/2025/01/16/%E6%B7%B1%E5%85%A5%E6%B7%BA%E5%87%BA%E7%90%86%E8%A7%A3-Docker-%E7%9A%84%E5%BA%95%E5%B1%A4%E9%81%8B%E4%BD%9C%E8%88%87%E6%9E%B6%E6%A7%8B/">上篇文章</a>中，我們聊過 Docker 的核心架構，將它比喻成一台「神奇咖啡機」，從顧客（Docker Client）用遙控器操作，到咖啡機的大腦（Docker Daemon）接到訂單，再到咖啡機沖泡（Containerd 和 OCI Runtime），最後端出一杯完美的咖啡（Container）。這次，我們要動手操作這台咖啡機，學會如何用指令點單、沖咖啡，甚至調配自己的配方。一樣會沿用上一篇的比喻，若是還沒閱讀過的讀者，可以先至<a href="https://zanazhong.github.io/2025/01/16/%E6%B7%B1%E5%85%A5%E6%B7%BA%E5%87%BA%E7%90%86%E8%A7%A3-Docker-%E7%9A%84%E5%BA%95%E5%B1%A4%E9%81%8B%E4%BD%9C%E8%88%87%E6%9E%B6%E6%A7%8B/">上篇文章</a>閱讀，了解 Docker 的基本概念。</p>
<span id="more"></span>

<h2 id="基本指令：檢查-Docker-狀態"><a href="#基本指令：檢查-Docker-狀態" class="headerlink" title="基本指令：檢查 Docker 狀態"></a>基本指令：檢查 Docker 狀態</h2><h3 id="查看-Docker-版本"><a href="#查看-Docker-版本" class="headerlink" title="查看 Docker 版本"></a>查看 Docker 版本</h3><blockquote>
<p>確認 Docker 是否正常安裝。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker --version</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Docker version 20.10.21, build baeda1f</span><br></pre></td></tr></table></figure>

<h2 id="準備原料：下載與管理-Image"><a href="#準備原料：下載與管理-Image" class="headerlink" title="準備原料：下載與管理 Image"></a>準備原料：下載與管理 Image</h2><h3 id="下載一個-Image"><a href="#下載一個-Image" class="headerlink" title="下載一個 Image"></a>下載一個 Image</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure>
<p>從 Docker Hub（原料供應商）下載一個映像檔，這裡用的是 Nginx（一個輕量網頁伺服器）。</p>
<p>就像跟供應商說：「給我一包優質咖啡豆！」有了之後，才能開始沖咖啡。</p>
<h3 id="查看本地-Image-清單"><a href="#查看本地-Image-清單" class="headerlink" title="查看本地 Image 清單"></a>查看本地 Image 清單</h3><blockquote>
<p>列出你電腦裡的所有 Image。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">REPOSITORY   TAG       IMAGE ID       CREATED        SIZE</span><br><span class="line">nginx        latest    4cdc5dd7e69d   2 weeks ago    142MB</span><br></pre></td></tr></table></figure>
<p>像是檢查咖啡店的原料櫃，看看有哪些咖啡豆可用。</p>
<h2 id="沖咖啡：啟動與管理-Container"><a href="#沖咖啡：啟動與管理-Container" class="headerlink" title="沖咖啡：啟動與管理 Container"></a>沖咖啡：啟動與管理 Container</h2><h3 id="啟動一個-Container"><a href="#啟動一個-Container" class="headerlink" title="啟動一個 Container"></a>啟動一個 Container</h3><blockquote>
<p>用 Image 啟動一個容器。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d -p 8080:80 nginx</span><br></pre></td></tr></table></figure>
<ul>
<li><code>-d</code>：背景運行（讓咖啡機自己運作，不用你盯著）。</li>
<li><code>-p 8080:80</code>：把容器的 80 端口映射到本機的 8080 端口。</li>
<li><code>nginx</code>：使用剛剛下載的 Nginx Image。</li>
</ul>
<p>就像按下咖啡機的「開始鍵」，告訴它：「用 Nginx 配方沖一杯咖啡，送到 8080 桌！」</p>
<p>現在打開瀏覽器，輸入 <code>http://localhost:8080</code>，你會看到 Nginx 的歡迎頁面，像端上桌的咖啡一樣完美，簡單吧？</p>
<h3 id="查看運行中的-Container"><a href="#查看運行中的-Container" class="headerlink" title="查看運行中的 Container"></a>查看運行中的 Container</h3><blockquote>
<p>顯示目前正在運行的容器。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CONTAINER ID   IMAGE     COMMAND                  PORTS                  NAMES</span><br><span class="line">a1b2c3d4e5f6   nginx     &quot;&#x2F;docker-entrypoint.…&quot;   0.0.0.0:8080-&gt;80&#x2F;tcp   happy_coffee</span><br></pre></td></tr></table></figure>
<p>（<code>a1b2c3d4e5f6</code> 是 Container ID，後面會用到）<br>像是看看咖啡店裡有哪些咖啡機正在沖咖啡。</p>
<h3 id="查看所有-Container（包括已停止的）"><a href="#查看所有-Container（包括已停止的）" class="headerlink" title="查看所有 Container（包括已停止的）"></a>查看所有 Container（包括已停止的）</h3><blockquote>
<p>列出所有容器，不論是否正在運行。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>
<p>像是檢查咖啡店的訂單紀錄，看看今天沖過哪些咖啡。</p>
<h2 id="清理咖啡機：停止與移除"><a href="#清理咖啡機：停止與移除" class="headerlink" title="清理咖啡機：停止與移除"></a>清理咖啡機：停止與移除</h2><h3 id="停止一個-Container"><a href="#停止一個-Container" class="headerlink" title="停止一個 Container"></a>停止一個 Container</h3><blockquote>
<p>停止指定的容器（可以用 <code>docker ps</code> 找到的 Container ID）。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker stop a1b2c3d4e5f6</span><br></pre></td></tr></table></figure>

<p>就像按下咖啡機的「暫停鍵」，讓它休息一下。</p>
<h3 id="移除一個-Container"><a href="#移除一個-Container" class="headerlink" title="移除一個 Container"></a>移除一個 Container</h3><blockquote>
<p>刪除已停止的容器。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker rm a1b2c3d4e5f6</span><br></pre></td></tr></table></figure>
<p>像是把用完的咖啡機清理乾淨，準備下一杯。</p>
<h3 id="移除一個-Image"><a href="#移除一個-Image" class="headerlink" title="移除一個 Image"></a>移除一個 Image</h3><blockquote>
<p>刪除本地的 Image（前提是沒有容器在使用它）。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker rmi nginx</span><br></pre></td></tr></table></figure>

<p>就像把用不到的咖啡豆丟掉，節省櫃子空間。</p>
<h2 id="自己沖咖啡：打造專屬-Image"><a href="#自己沖咖啡：打造專屬-Image" class="headerlink" title="自己沖咖啡：打造專屬 Image"></a>自己沖咖啡：打造專屬 Image</h2><h3 id="建立自己的-Image"><a href="#建立自己的-Image" class="headerlink" title="建立自己的 Image"></a>建立自己的 Image</h3><blockquote>
<p>用 <code>Dockerfile</code> 打包出一個自訂 Image，命名為 <code>my-coffee</code>。</p>
</blockquote>
<p>假設你寫了一個簡單的 Node.js 應用程式：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> res.send(<span class="string">&#x27;Hello, Docker Coffee!&#x27;</span>));</span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;Coffee brewing on port 3000&#x27;</span>));</span><br></pre></td></tr></table></figure>
<p>接著創建一個 <code>Dockerfile</code>（咖啡配方）：</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> node:<span class="number">18</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> . .</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> npm install</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;node&quot;</span>, <span class="string">&quot;app.js&quot;</span>]</span></span><br></pre></td></tr></table></figure>
<p>然後執行：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker build -t my-coffee .</span><br></pre></td></tr></table></figure>
<p>就像自己調配咖啡配方，告訴咖啡機怎麼沖出一杯獨特的咖啡。</p>
<h3 id="用自訂-Image-啟動-Container"><a href="#用自訂-Image-啟動-Container" class="headerlink" title="用自訂 Image 啟動 Container"></a>用自訂 Image 啟動 Container</h3><blockquote>
<p>啟動你剛剛打造的 Image。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d -p 3000:3000 my-coffee</span><br></pre></td></tr></table></figure>

<p>瀏覽 <code>http://localhost:3000</code>，你會看到「Hello, Docker Coffee!」這就是你自己沖出的專屬咖啡！</p>
<h2 id="實用小技巧"><a href="#實用小技巧" class="headerlink" title="實用小技巧"></a>實用小技巧</h2><h3 id="查看-Container-日誌"><a href="#查看-Container-日誌" class="headerlink" title="查看 Container 日誌"></a>查看 Container 日誌</h3><blockquote>
<p>檢查容器的運行狀況。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker logs a1b2c3d4e5f6</span><br></pre></td></tr></table></figure>

<p>像是查看咖啡機的沖泡記錄，看看哪一步出了問題。</p>
<h3 id="進入-Container-內部"><a href="#進入-Container-內部" class="headerlink" title="進入 Container 內部"></a>進入 Container 內部</h3><blockquote>
<p>進入容器內部操作（<code>-it</code> 表示互動模式）。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it a1b2c3d4e5f6 bash</span><br></pre></td></tr></table></figure>
<ul>
<li>-it：進入容器的交互模式。</li>
<li>a1b2c3d4e5f6：使用 a1b2c3d4e5f6 映像檔。</li>
<li>bash：在容器啟動後要執行的命令，這裡進入容器的 bash 終端機。</li>
</ul>
<p>就像打開咖啡機的蓋子，親手調整設定。</p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>這些常用指令就像基本操作：檢查設備（<code>docker --version</code>）、準備原料（<code>docker pull</code>）、沖咖啡（<code>docker run</code>）、清理（<code>docker stop/rm</code>），甚至自己調配配方（<code>docker build</code>）。學會這些，你已經能應付大多數 Docker 場景了！</p>
]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>Command</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Leetcode - 1822. Sign of the Product of an Array</title>
    <url>/2023/05/02/%E7%AD%86-Leetcode-1822-Sign-of-the-Product-of-an-Array/</url>
    <content><![CDATA[<p><a href="https://leetcode.com/problems/sign-of-the-product-of-an-array/">https://leetcode.com/problems/sign-of-the-product-of-an-array/</a></p>
<blockquote>
<p>There is a function signFunc(x) that returns:<br>1 if x is positive.<br>-1 if x is negative.<br>0 if x is equal to 0.<br>You are given an integer array nums. Let product be the product of all values in the array nums.<br>Return signFunc(product).</p>
</blockquote>
<p><img src="https://i.imgur.com/v6fBWOf.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">arraySign</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        sign = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> num == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> num &lt; <span class="number">0</span>:</span><br><span class="line">                sign = -sign</span><br><span class="line">        <span class="keyword">return</span> sign</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Leetcode</tag>
        <tag>Python</tag>
        <tag>Coding</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Leetcode - 1913. Maximum Product Difference Between Two Pairs</title>
    <url>/2023/12/18/%E7%AD%86%E8%A8%98-1913.-Maximum-Product%20Difference-Between-Two-Pairs/</url>
    <content><![CDATA[<p><a href="https://leetcode.com/problems/maximum-product-difference-between-two-pairs/">https://leetcode.com/problems/maximum-product-difference-between-two-pairs/</a></p>
<blockquote>
<p>The product difference between two pairs (a, b) and (c, d) is defined as (a * b) - (c * d).</p>
<p>For example, the product difference between (5, 6) and (2, 7) is (5 * 6) - (2 * 7) &#x3D; 16.<br>Given an integer array nums, choose four distinct indices w, x, y, and z such that the product difference between pairs (nums[w], nums[x]) and (nums[y], nums[z]) is maximized.</p>
<p>Return the maximum such product difference.</p>
</blockquote>
<span id="more"></span>

<p>Example 1:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Input: nums &#x3D; [5,6,2,7,4]</span><br><span class="line">Output: 34</span><br><span class="line">Explanation: We can choose indices 1 and 3 for the first pair (6, 7) and indices 2 and 4 for the second pair (2, 4).</span><br><span class="line">The product difference is (6 * 7) - (2 * 4) &#x3D; 34.</span><br></pre></td></tr></table></figure>
<p>Example 2:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Input: nums &#x3D; [4,2,5,9,7,4,8]</span><br><span class="line">Output: 64</span><br><span class="line">Explanation: We can choose indices 3 and 6 for the first pair (9, 8) and indices 1 and 5 for the second pair (2, 4).</span><br><span class="line">The product difference is (9 * 8) - (2 * 4) &#x3D; 64.</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProductDifference</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        min_num1, min_num2 = math.inf, math.inf</span><br><span class="line">        max_num1, max_num2 = -math.inf, -math.inf</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">for</span> number <span class="keyword">in</span> nums: </span><br><span class="line">            <span class="keyword">if</span> number &gt; max_num1:</span><br><span class="line">                max_num1, max_num2 = number, max_num1</span><br><span class="line">            <span class="keyword">elif</span> number &gt; max_num2:</span><br><span class="line">                max_num2 = number</span><br><span class="line">    </span><br><span class="line">            <span class="keyword">if</span> number &lt; min_num1:</span><br><span class="line">                min_num1, min_num2 = number, min_num1</span><br><span class="line">            <span class="keyword">elif</span> number &lt; min_num2:</span><br><span class="line">                min_num2 = number</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> max_num1 * max_num2 - min_num1 * min_num2</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>Leetcode</tag>
        <tag>Python</tag>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Leetcode - 1903. Largest Odd Number in String</title>
    <url>/2023/12/09/%E7%AD%86%E8%A8%98-1903.-Largest-Odd%20Number-in-String/</url>
    <content><![CDATA[<blockquote>
<p>You are given a string num, representing a large integer. Return the largest-valued odd integer (as a string) that is a non-empty substring of num, or an empty string “” if no odd integer exists.</p>
</blockquote>
<p>A substring is a contiguous sequence of characters within a string.</p>
<p>Example 1:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Input: num &#x3D; &quot;52&quot;</span><br><span class="line">Output: &quot;5&quot;</span><br><span class="line">Explanation: The only non-empty substrings are &quot;5&quot;, &quot;2&quot;, and &quot;52&quot;. &quot;5&quot; is the only odd number.</span><br></pre></td></tr></table></figure>
<p>Example 2:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Input: num &#x3D; &quot;4206&quot;</span><br><span class="line">Output: &quot;&quot;</span><br><span class="line">Explanation: There are no odd numbers in &quot;4206&quot;.</span><br></pre></td></tr></table></figure>
<p>Example 3:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Input: num &#x3D; &quot;35427&quot;</span><br><span class="line">Output: &quot;35427&quot;</span><br><span class="line">Explanation: &quot;35427&quot; is already an odd number.</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestOddNumber</span>(<span class="params">self, num: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(num) - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">int</span>(num[i]) % <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">return</span> num[:i + <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>list</tag>
        <tag>Leetcode</tag>
        <tag>Python</tag>
        <tag>reverse</tag>
      </tags>
  </entry>
  <entry>
    <title>用 Go 寫 Web API？Gin Framework 帶你快速上手！</title>
    <url>/2025/03/06/%E7%94%A8-Go-%E5%AF%AB-Web-API%EF%BC%9FGin-Framework-%E5%B8%B6%E4%BD%A0%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%EF%BC%81/</url>
    <content><![CDATA[<p>大家好，我是一個在剛開始學習 Golang 的工程師，今天想和大家聊聊 <strong>Gin Framework</strong> ——一個簡單又強大的 Go 語言 Web Framework。如果你聽過 Golang，一定知道它以高效能和簡潔聞名，而 Gin 就像你常用的悠遊卡，小巧方便，卻能輕鬆應付各種場景。接下來，讓我們從零開始認識 Gin。</p>
<span id="more"></span>

<h2 id="什麼是-Gin-Framework？"><a href="#什麼是-Gin-Framework？" class="headerlink" title="什麼是 Gin Framework？"></a>什麼是 Gin Framework？</h2><p>想像你在開一家咖啡店，顧客進門點單，你得快速把咖啡端上桌。Gin 就像是你店裡的咖啡機：它不負責種咖啡豆（那是資料庫的事），也不負責裝潢店面（那是前端的事），但它能幫你快速接收訂單（HTTP 請求）、處理需求（路由與邏輯），然後端出成品（回應）。簡單來說，Gin 是一個輕量級的 Web Framework，專注於處理 HTTP request 和 Routing，特別適合用來打造 API 或簡單的網站。</p>
<p>相比其他框架，如 Flask 或 Express，Gin 的優勢在於速度快和語法簡潔。Flask 簡單易上手但效能需額外優化，Express 靈活且生態豐富卻受單執行緒限制。而 Gin 就像一台『迷你跑車』，輕巧高效，讓你在 Web 開發中跑得又快又穩。</p>
<h2 id="安裝與第一個「Hello-World-」"><a href="#安裝與第一個「Hello-World-」" class="headerlink" title="安裝與第一個「Hello, World!」"></a>安裝與第一個「Hello, World!」</h2><p>在開始之前，假設你已經安裝了 Go（可以用 <code>go version</code> 檢查）。接著，我們需要把 Gin 安裝到你的工具箱裡。</p>
<h3 id="Step-1-安裝-Gin"><a href="#Step-1-安裝-Gin" class="headerlink" title="Step 1: 安裝 Gin"></a>Step 1: 安裝 Gin</h3><p>打開終端機，輸入以下指令，就像去超市買食材一樣：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">go get -u github.com/gin-gonic/gin</span><br></pre></td></tr></table></figure>

<p>這會下載 Gin 的最新版本並加入你的 Go 專案。</p>
<h3 id="Step-2-寫一個簡單的-Web-服務"><a href="#Step-2-寫一個簡單的-Web-服務" class="headerlink" title="Step 2: 寫一個簡單的 Web 服務"></a>Step 2: 寫一個簡單的 Web 服務</h3><p>新建一個檔案叫做 <code>main.go</code>，就像準備開始煮咖啡一樣，我們先把基本架構搭起來：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 建立一個新的 Gin 引擎，就像開啟一台咖啡機</span></span><br><span class="line">    r := gin.Default()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定義一個路由：當有人訪問 &quot;/&quot; 時，回應 &quot;Hello, World!&quot;</span></span><br><span class="line">    r.GET(<span class="string">&quot;/&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">        c.String(<span class="number">200</span>, <span class="string">&quot;Hello, World!&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 啟動服務，預設跑在 8080 埠</span></span><br><span class="line">    r.Run() </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Step-3-啟動服務"><a href="#Step-3-啟動服務" class="headerlink" title="Step 3: 啟動服務"></a>Step 3: 啟動服務</h3><p>在終端機輸入：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">go run main.go</span><br></pre></td></tr></table></figure>

<p>打開瀏覽器，輸入 <code>http://localhost:8080</code>，你會看到「Hello, World!」跳出來。這就像你第一次試著泡咖啡——簡單幾步，卻已經能端出一杯讓人滿足的飲品。</p>
<h2 id="Gin-的核心概念"><a href="#Gin-的核心概念" class="headerlink" title="Gin 的核心概念"></a>Gin 的核心概念</h2><p>Gin 的運作有三個關鍵：</p>
<ol>
<li>**引擎 (Engine)**：<code>gin.Default()</code> 是你的料理機開關，負責啟動服務和分配訂單。</li>
<li>**路由 (Routing)**：根據顧客的點單（URL），決定端出什麼咖啡（回應）。</li>
<li>**上下文 (Context)**：<code>gin.Context</code> 就像訂單小票，記下顧客需求並告訴你怎麼回應。</li>
</ol>
<h2 id="Gin-路由解析：如何處理請求"><a href="#Gin-路由解析：如何處理請求" class="headerlink" title="Gin 路由解析：如何處理請求"></a>Gin 路由解析：如何處理請求</h2><p>在 Gin 裡，路由（Routing）就像是咖啡店的點單流程。比如：</p>
<ul>
<li>顧客說「我要拿鐵」 → 你把訂單送到 <code>/latte</code> 這條路線。</li>
<li>顧客說「我要查帳單」 → 你把訂單送到 <code>/bill</code> 這條路線。</li>
</ul>
<p>我們來加幾個路由看看：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    r := gin.Default()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 根路由：歡迎顧客</span></span><br><span class="line">    r.GET <span class="string">&quot;/&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">        c.String(<span class="number">200</span>, <span class="string">&quot;歡迎來到我的咖啡店！&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 拿鐵訂單</span></span><br><span class="line">    r.GET(<span class="string">&quot;/latte&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">        c.String(<span class="number">200</span>, <span class="string">&quot;這是一杯熱拿鐵，享用吧！&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 查詢帳單</span></span><br><span class="line">    r.GET(<span class="string">&quot;/bill&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">        c.String(<span class="number">200</span>, <span class="string">&quot;今天的帳單是 50 元。&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    r.Run()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>現在訪問 <code>http://localhost:8080/latte</code>，你會看到拿鐵的回應；訪問 <code>http://localhost:8080/bill</code>，則會看到帳單。這就是路由的基本概念：根據顧客的需求（URL），提供不同的服務（回應）。</p>
<h2 id="處理顧客的特殊需求：參數與-JSON"><a href="#處理顧客的特殊需求：參數與-JSON" class="headerlink" title="處理顧客的特殊需求：參數與 JSON"></a>處理顧客的特殊需求：參數與 JSON</h2><p>假設有個顧客說：「我要一杯拿鐵，但大小要中杯，糖要少一點。」這時候，單純的 <code>/latte</code> 不夠用了，我們需要從 URL 或請求中提取參數。</p>
<h3 id="用-URL-參數"><a href="#用-URL-參數" class="headerlink" title="用 URL 參數"></a>用 URL 參數</h3><p>改進程式碼，讓顧客可以指定杯子大小：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">r.GET(<span class="string">&quot;/latte/:size&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">    size := c.Param(<span class="string">&quot;size&quot;</span>) <span class="comment">// 從 URL 中提取 &quot;size&quot; 參數</span></span><br><span class="line">    c.String(<span class="number">200</span>, <span class="string">&quot;這是一杯 %s 拿鐵，享用吧！&quot;</span>, size)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>訪問 <code>http://localhost:8080/latte/medium</code>，你會看到「這是一杯 medium 拿鐵，享用吧！」。</p>
<h3 id="用-JSON-處理更複雜的訂單"><a href="#用-JSON-處理更複雜的訂單" class="headerlink" title="用 JSON 處理更複雜的訂單"></a>用 JSON 處理更複雜的訂單</h3><p>如果顧客的需求更詳細（例如糖量、溫度），可以用 POST 請求傳 JSON：</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">r.POST(<span class="string">&quot;/order&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">    <span class="keyword">type</span> CoffeeOrder <span class="keyword">struct</span> &#123;</span><br><span class="line">        Type   <span class="keyword">string</span> <span class="string">`json:&quot;type&quot;`</span></span><br><span class="line">        Size   <span class="keyword">string</span> <span class="string">`json:&quot;size&quot;`</span></span><br><span class="line">        Sugar  <span class="keyword">int</span>    <span class="string">`json:&quot;sugar&quot;`</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> order CoffeeOrder</span><br><span class="line">    <span class="keyword">if</span> err := c.BindJSON(&amp;order); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        c.String(<span class="number">400</span>, <span class="string">&quot;訂單格式錯誤！&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    c.JSON(<span class="number">200</span>, gin.H&#123;</span><br><span class="line">        <span class="string">&quot;message&quot;</span>: <span class="string">&quot;訂單收到！&quot;</span>,</span><br><span class="line">        <span class="string">&quot;order&quot;</span>:   order,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>用工具（例如 Postman）發送以下 POST 請求到 <code>http://localhost:8080/order</code>：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;latte&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;size&quot;</span>: <span class="string">&quot;large&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;sugar&quot;</span>: <span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>你會得到回應：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;訂單收到！&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;order&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;latte&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;size&quot;</span>: <span class="string">&quot;large&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;sugar&quot;</span>: <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>這就像顧客填好訂單表，你確認後回覆一樣，簡單又清楚。</p>
<h2 id="讓我們總結一下：Gin-的魅力"><a href="#讓我們總結一下：Gin-的魅力" class="headerlink" title="讓我們總結一下：Gin 的魅力"></a>讓我們總結一下：Gin 的魅力</h2><p>Gin 的設計哲學就像咖啡店的經營之道：<strong>簡單、快速、靈活</strong>。它不強迫你用複雜的設定，而是提供直觀的工具，讓你專注在業務邏輯上。透過今天的例子，我們學會了：</p>
<ol>
<li>如何安裝和啟動 Gin。</li>
<li>用路由處理不同的請求。</li>
<li>接收參數和 JSON，提升服務的彈性。</li>
</ol>
<p>下次如果你想打造一個輕量級 API（例如給手機 App 用的後端）、Web 應用程式，甚至是微服務架構，不妨試試 Gin，它能助你一臂之力。</p>
]]></content>
      <categories>
        <category>Golang</category>
        <category>Web API</category>
      </categories>
      <tags>
        <tag>Golang</tag>
        <tag>Gin Framework</tag>
        <tag>Web API</tag>
      </tags>
  </entry>
  <entry>
    <title>深入淺出理解 Docker 的底層運作與架構</title>
    <url>/2025/01/16/%E6%B7%B1%E5%85%A5%E6%B7%BA%E5%87%BA%E7%90%86%E8%A7%A3-Docker-%E7%9A%84%E5%BA%95%E5%B1%A4%E9%81%8B%E4%BD%9C%E8%88%87%E6%9E%B6%E6%A7%8B/</url>
    <content><![CDATA[<p>今天我們要一起來聊聊 Docker，Docker 是現代開發與運維中不可或缺的工具，用來打包、部署和運行應用程序。它讓你能在任何環境中快速部署應用，實現「一次構建，隨處運行」的目標，是一個讓開發者與運維工程師都愛不釋手的工具。想像 Docker 就像是「貨櫃」，它能把你的應用程式打包起來，無論搬到哪台電腦上都能保證一致運行。準備好了嗎？讓我們開始吧！</p>
<span id="more"></span>
<h2 id="Docker-是什麼？"><a href="#Docker-是什麼？" class="headerlink" title="Docker 是什麼？"></a>Docker 是什麼？</h2><p>Docker 是一個容器化技術 (Containerlize)。什麼是容器化呢？想像你有一台「神奇咖啡機」，每天要為不同客戶沖泡咖啡。如果每次都要在客戶家現場準備咖啡豆、糖、水，還要調整不同的咖啡機，結果做出來的咖啡味道可能忽濃忽淡。但如果有了 Docker，你可以把咖啡豆、糖、水，甚至連沖泡的設定和一台標準化的「神奇咖啡機」都打包好。無論這台咖啡機被帶到哪裡，只要按下開始鍵，就能保證沖出來的咖啡味道一模一樣。</p>
<p>在程式世界裡，這杯「咖啡」就是你的應用程式，「神奇咖啡機」就是 Docker 容器。它把程式碼、依賴庫、設定檔通通裝進這個標準化的環境，讓程式能在任何地方（你的電腦、雲端伺服器）穩定運行。</p>
<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>要理解 Docker 的運作，我們需要先了解幾個核心概念：</p>
<ul>
<li><p><strong>Image</strong>：</p>
<ul>
<li>應用的靜態模板，包含應用程序及其運行所需的依賴（EX:程式碼、程式庫）。</li>
<li>類似於 VM 中的「快照」(Snapeshot)。</li>
</ul>
</li>
<li><p><strong>Container</strong>：</p>
<ul>
<li>從 Image 啟動的執行實例，是一個輕量的隔離運行環境。</li>
<li>每個容器共享宿主機的作業系統核心，但彼此隔離。</li>
</ul>
</li>
<li><p><strong>Registry</strong>：</p>
<ul>
<li>儲存和分發 Image 的地方（EX: Docker Hub or Private Registry）。</li>
</ul>
</li>
</ul>
<h2 id="底層技術"><a href="#底層技術" class="headerlink" title="底層技術"></a>底層技術</h2><blockquote>
<p>Docker 的強大主要依賴於 Linux 的核心功能</p>
</blockquote>
<ul>
<li><p><strong>Namespace</strong></p>
<ul>
<li>用於實現 Container 的 <strong>process 隔離</strong>。</li>
<li>每個 Container 都有自己的命名空間，確保不同容器間的資源互不影響。</li>
<li>常見的 Namespace：<ul>
<li>PID (Process ID)：每個容器看到的是自己的進程列表。</li>
<li>NET (網路)：每個容器擁有自己的網路接口和 IP。</li>
<li>MNT (掛載)：每個容器有自己的檔案系統視圖。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Cgroups</strong></p>
<ul>
<li>用於實現資源管理和限制，EX: CPU、記憶體和網路。</li>
<li>防止單一容器佔用過多資源，影響整體系統性能。</li>
</ul>
</li>
<li><p><strong>UnionFS</strong></p>
<ul>
<li>支援分層的檔案系統，++減少重複存儲的數據量++。</li>
<li>Docker 的 Image 由多層構成，每層只存儲新增或修改的部分，未改變的部分會繼續共享。</li>
</ul>
</li>
<li><p><strong>Container Runtime</strong></p>
<ul>
<li>Docker 使用 <strong>containerd</strong> 作為 Container Runtime，負責管理 Container 的生命周期（啟動、停止、刪除）。</li>
</ul>
</li>
</ul>
<h2 id="核心架構"><a href="#核心架構" class="headerlink" title="核心架構"></a>核心架構</h2><blockquote>
<p>Docker 的核心架構就像一家咖啡機。你（Docker Client）用遙控器操作，咖啡機的大腦（Docker Daemon）接到訂單後，指揮咖啡機的沖泡模組（Containerd）啟動咖啡機（OCI Runtime），從原料供應商（Docker Registry）拿來咖啡豆和配方，沖出一杯完美的咖啡（Container）。</p>
</blockquote>
<ul>
<li><p><strong>Docker Client</strong><br>用戶與 Docker 互動的介面，負責接收指令（<code>docker run</code>） 後，傳給 Docker Daemon。<br>就像你手上有一個「咖啡機遙控器」，按下「沖泡」按鈕（<code>docker run</code>），告訴咖啡機要做什麼。</p>
</li>
<li><p><strong>Docker Daemon</strong><br>Docker 接收指令、管理一切的中心，負責處理所有 Container 的操作（如啟動、停止、刪除等），同時管理 Image、網路和儲存等資源。它會持續運行，並監聽來自 Docker Client 的請求。<br>就像咖啡機的「智能大腦」。接收你的指令 (<code>docker run</code>)，然後指揮咖啡機磨豆、加水、沖泡、分配原料。</p>
</li>
<li><p><strong>Containerd</strong><br>Container 的核心執行環境，管理 Container 的生命周期（創建、啟動、停止等）。它是 Docker Daemon 的一部分，但獨立出來，讓架構更模組化。<br>就像咖啡機裡的「沖泡模組」。大腦 （Daemon） 告訴它做事，它負責把咖啡豆變成咖啡（管理 Container 的生命周期），確保每杯咖啡都能順利沖泡。</p>
</li>
<li><p><strong>Docker Registry</strong><br>儲存和分發 Docker Image 的地方 (預設 Docker Hub，但也可以是 Private Registry)。<br>就像「原料供應商」（<code>Docker Hub</code>），提供咖啡豆、糖和配方（Image），可以隨時去拿來用。<code>docker pull nginx</code> 就是去拿原料。</p>
</li>
<li><p><strong>OCI Runtime（runc）</strong><br>標準化的 Container Runtime (<code>runc</code>) 在幕後把 Container 跑起來，它是底層工具，你不會直接跟它打交道。<br>就像咖啡機的「引擎」，默默地讓咖啡機運作（啟動和運行 Container）。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">用戶 --&gt; [Docker Client] --&gt; [Docker Daemon] --&gt; [Containerd]</span><br><span class="line">                  ↘︎                ↓</span><br><span class="line">            [Docker Registry]   [OCI Runtime]</span><br><span class="line">                 (外部支援)       (底層實現)</span><br></pre></td></tr></table></figure>

<p><img src="https://hackmd.io/_uploads/H1Hyw48Dkg.jpg" alt="docker_architecture"></p>
<h2 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h2><p>假設執行以下指令：<code>docker run hello-world</code></p>
<ol>
<li><p><strong>查找 Image</strong>：</p>
<ul>
<li>Docker Client 發送請求到 Docker Daemon。</li>
<li>Daemon 會先在本地檢查是否存在 <code>hello-world</code> Image，沒有則從 Docker Hub 拉取。</li>
</ul>
</li>
<li><p><strong>啟動容器</strong>：</p>
<ul>
<li>使用下載的 Image 創建容器。</li>
<li>分配資源（EX: CPU、Memory）並設置 Namespace。</li>
</ul>
</li>
<li><p><strong>運行應用程序</strong>：</p>
<ul>
<li>啟動容器中的應用程序。</li>
<li>使用者可以通過容器內的網路端口與應用程序交互。</li>
</ul>
</li>
</ol>
<p><img src="https://hackmd.io/_uploads/BJtzWkFPkx.png" alt="Docker"></p>
<h2 id="應用場景"><a href="#應用場景" class="headerlink" title="應用場景"></a>應用場景</h2><ul>
<li><p><strong>開發環境一致性</strong>：<br> 開發人員可以在本地運行與生產環境完全一致的環境，避免「在我這能跑」的問題。</p>
</li>
<li><p><strong>CI&#x2F;CD 流程</strong>：<br> 快速打包、測試和部署應用程序，大幅縮短交付周期。</p>
</li>
<li><p><strong>微服務架構</strong>：<br> 每個微服務打包成獨立的容器，實現高效管理和擴展。</p>
</li>
</ul>
<h2 id="優缺點"><a href="#優缺點" class="headerlink" title="優缺點"></a>優缺點</h2><table>
<thead>
<tr>
<th><strong>優點</strong></th>
<th><strong>缺點</strong></th>
</tr>
</thead>
<tbody><tr>
<td>輕量級：共享 OS 核心，減少資源需求</td>
<td>容器隔離性不如虛擬機（需注意安全設置）</td>
</tr>
<tr>
<td>啟動速度快：秒級啟動，提升開發效率</td>
<td>高效管理需要學習曲線（如編排工具 Kubernetes）</td>
</tr>
<tr>
<td>高可移植性：支援跨平台部署</td>
<td>大量容器可能增加監控和調試的複雜度</td>
</tr>
</tbody></table>
<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>Docker 通過整合 Linux 的 Namespace、Cgroups 和 UnionFS，提供了一個輕量且高效的容器化平台。它的設計理念簡單，但底層運作機制複雜且高效，是現代軟體開發與部署的核心工具。</p>
<div class="note info"><p>Docker 是容器技術的橋梁、是一種輕量虛擬化技術，讓你的應用程式無縫運行在任何環境中！</p>
</div>]]></content>
      <tags>
        <tag>Docker</tag>
        <tag>容器化技術</tag>
        <tag>Architecture</tag>
        <tag>基礎架構</tag>
        <tag>Linux</tag>
        <tag>Namespace</tag>
        <tag>Cgroups</tag>
        <tag>UnionFS</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Check.io - Date and Time Converter</title>
    <url>/2021/04/25/%E7%AD%86%E8%A8%98-Check-io-Date-and-Time-Converter/</url>
    <content><![CDATA[<blockquote>
<p><a href="https://py.checkio.org/en/mission/date-and-time-converter/">check.io</a> 上的題目：將字串轉成規定的格式<br>此系列文章主要是自己在解題時覺得有趣的題目，記錄下來讓自己以後方便複習，有興趣的人可以參考看看</p>
</blockquote>
<span id="more"></span>

<h2 id="先來看看題目"><a href="#先來看看題目" class="headerlink" title="先來看看題目"></a>先來看看題目</h2><p><img src="https://i.imgur.com/1IHEoPk.png"></p>
<h2 id="解題步驟"><a href="#解題步驟" class="headerlink" title="解題步驟"></a>解題步驟</h2><h2 id=""><a href="#" class="headerlink" title="- "></a>- </h2><p>strptime<br>strftime<br>format</p>
<p><a href="https://www.geeksforgeeks.org/python-strftime-function/"><img src="https://i.imgur.com/cKcNfZx.png" alt="參考來源"></a></p>
<h2 id="解題"><a href="#解題" class="headerlink" title="解題"></a>解題</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">date_time</span>(<span class="params">time: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span></span><br><span class="line">    <span class="comment">#convert string to datetime</span></span><br><span class="line">    date_time = datetime.datetime.strptime(time, <span class="string">&quot;%d.%m.%Y %H:%M&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> date_time.strftime(<span class="string">f&quot;<span class="subst">&#123;date_time.day&#125;</span> %B %Y year <span class="subst">&#123;date_time.hour&#125;</span> hour<span class="subst">&#123;<span class="string">&#x27;s&#x27;</span> <span class="keyword">if</span> date_time.hour != <span class="number">1</span> <span class="keyword">else</span> <span class="string">&#x27;&#x27;</span>&#125;</span> <span class="subst">&#123;date_time.minute&#125;</span> minute<span class="subst">&#123;<span class="string">&#x27;s&#x27;</span> <span class="keyword">if</span> date_time.minute != <span class="number">1</span> <span class="keyword">else</span> <span class="string">&#x27;&#x27;</span>&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>分享一個查到的不錯的方法</p>
<pre><code class="python">import datetime

def date_time(time: str) -&gt; str:
    #convert string to datetime
    date_time = datetime.datetime.strptime(time, &quot;%d.%m.%Y %H:%M&quot;)

    return date_time.strftime(f&quot;&#123;date_time.day&#125; %B %Y year &#123;date_time.hour&#125; &#123;[&#39;hours&#39;, &#39;hour&#39;][date_time.hour == 1]&#125; &#123;date_time.minute&#125; &#123;[&#39;minutes&#39;, &#39;minute&#39;][date_time.minute == 1]&#125;&quot;)
</code></pre>
]]></content>
      <categories>
        <category>Check.io</category>
        <category>python</category>
      </categories>
      <tags>
        <tag>Check.io</tag>
        <tag>python</tag>
        <tag>datetime</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Check.io - Pawn Brotherhood</title>
    <url>/2021/04/25/%E7%AD%86%E8%A8%98-Check-io-Pawn-Brotherhood/</url>
    <content><![CDATA[<blockquote>
<p><a href="https://py.checkio.org/en/mission/pawn-brotherhood/">check.io</a> 上的題目：判斷西洋棋中的兵有幾個是安全的<br>此系列文章主要是自己在解題時覺得有趣的題目，記錄下來讓自己以後好複習，有興趣的人可以參考看看</p>
</blockquote>
<h2 id="先來看看題目"><a href="#先來看看題目" class="headerlink" title="先來看看題目"></a>先來看看題目</h2><p><img src="https://i.imgur.com/oTOaA4z.jpg"><br>總結來說：兵的行徑方向走斜對角的(左前、右前)，若是兵的右下或左下有其他兵的話，他就是安全的</p>
<h2 id="解題步驟"><a href="#解題步驟" class="headerlink" title="解題步驟"></a>解題步驟</h2><h2 id="解題"><a href="#解題" class="headerlink" title="解題"></a>解題</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">safe_pawns</span>(<span class="params">pawns: <span class="built_in">set</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">    safe = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> pawns:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">chr</span>(<span class="built_in">ord</span>(p[<span class="number">0</span>]) + <span class="number">1</span>) + <span class="built_in">str</span>(<span class="built_in">int</span>(p[<span class="number">1</span>]) - <span class="number">1</span>) <span class="keyword">in</span> pawns <span class="keyword">or</span> <span class="built_in">chr</span>(<span class="built_in">ord</span>(p[<span class="number">0</span>]) - <span class="number">1</span>) + <span class="built_in">str</span>(<span class="built_in">int</span>(p[<span class="number">1</span>]) - <span class="number">1</span>) <span class="keyword">in</span> pawns:</span><br><span class="line">            safe += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> safe</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Check.io</category>
        <category>python</category>
      </categories>
      <tags>
        <tag>Check.io</tag>
        <tag>python</tag>
        <tag>chr</tag>
        <tag>ord</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Check.io - Acceptable Password II</title>
    <url>/2021/05/01/%E7%AD%86%E8%A8%98-Check-io-Acceptable-Password-II/</url>
    <content><![CDATA[<blockquote>
<p><a href="https://py.checkio.org/en/mission/acceptable-password-ii/">check.io</a> 上的題目：合格的密碼須含數字<br>此系列文章主要是自己在解題時覺得有趣的題目，記錄下來讓自己以後方便複習，有興趣的人可以參考看看</p>
</blockquote>
<span id="more"></span>

<h2 id="先來看看題目"><a href="#先來看看題目" class="headerlink" title="先來看看題目"></a>先來看看題目</h2><p><img src="https://i.imgur.com/PvH7bh2.png"></p>
<h2 id="解題步驟"><a href="#解題步驟" class="headerlink" title="解題步驟"></a>解題步驟</h2><ul>
<li>密碼須大於６位數</li>
<li>至少需包含一個數字</li>
</ul>
<h3 id="map-用法"><a href="#map-用法" class="headerlink" title="map 用法"></a>map 用法</h3><div class="note default"><p>語法： map(function: iterable) </p>
</div>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">square</span>(<span class="params">x</span>):</span></span><br><span class="line">  <span class="keyword">return</span> x * x</span><br><span class="line">    </span><br><span class="line"><span class="built_in">map</span>(square, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])  <span class="comment">#Output [2, 4, 6, 8]</span></span><br></pre></td></tr></table></figure>

<h3 id="any-用法"><a href="#any-用法" class="headerlink" title="any 用法"></a>any 用法</h3><h3 id="解答："><a href="#解答：" class="headerlink" title="解答："></a>解答：</h3><pre><code class="python">def is_acceptable_password(password: str) -&gt; bool:
    # your code here
    return True if len(password) &gt; 6 and any(map(str.isdigit, password)) else False
</code></pre>
]]></content>
      <categories>
        <category>Check.io</category>
        <category>python</category>
      </categories>
      <tags>
        <tag>Check.io</tag>
        <tag>python</tag>
        <tag>map</tag>
        <tag>any</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Boostrape-table 列上編輯功能</title>
    <url>/2020/09/20/%E7%AD%86%E8%A8%98-Boostrape-table-%E5%88%97%E4%B8%8A%E7%B7%A8%E8%BC%AF%E5%8A%9F%E8%83%BD/</url>
    <content><![CDATA[<blockquote>
<p>實習開發網站，常遇到一些功能需求要上網查詢，整理成筆記以後再用到就不用又從頭開始找，也希望幫助到正在找學這些功能的人</p>
</blockquote>
<span id="more"></span>

<h3 id="新增功能"><a href="#新增功能" class="headerlink" title="新增功能"></a>新增功能</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).on(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;.add&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">var</span> empty = <span class="literal">false</span>;</span><br><span class="line">   <span class="keyword">var</span> input = $(<span class="built_in">this</span>).parents(<span class="string">&quot;tr&quot;</span>).find(<span class="string">&#x27;input[type=&quot;text&quot;]&#x27;</span>);</span><br><span class="line">   input.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(!$(<span class="built_in">this</span>).val())&#123;</span><br><span class="line">       $(<span class="built_in">this</span>).addClass(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">       empty = <span class="literal">true</span>;</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       $(<span class="built_in">this</span>).removeClass(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;);</span><br><span class="line">   $(<span class="built_in">this</span>).parents(<span class="string">&quot;tr&quot;</span>).find(<span class="string">&quot;.error&quot;</span>).first().focus();</span><br><span class="line">   <span class="comment">// 新增或編輯完新增時檢查是否都有填</span></span><br><span class="line">   <span class="keyword">if</span>(!empty)&#123;</span><br><span class="line">     $(<span class="string">&#x27;input[type=text]&#x27;</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       $(<span class="built_in">this</span>).parent(<span class="string">&quot;td&quot;</span>).html($(<span class="built_in">this</span>).val());  </span><br><span class="line">     &#125;);           </span><br><span class="line">     $(<span class="string">&#x27;input[type=date]&#x27;</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       $(<span class="built_in">this</span>).parent(<span class="string">&quot;td&quot;</span>).html($(<span class="built_in">this</span>).val()); </span><br><span class="line">     &#125;)</span><br><span class="line">     $(<span class="built_in">this</span>).parents(<span class="string">&quot;tr&quot;</span>).find(<span class="string">&quot;.add, .edit&quot;</span>).toggle();</span><br><span class="line">     $(<span class="string">&quot;.add-new&quot;</span>).removeAttr(<span class="string">&quot;disabled&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="編輯功能"><a href="#編輯功能" class="headerlink" title="編輯功能"></a>編輯功能</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).on(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;.edit&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="built_in">this</span>).parents(<span class="string">&quot;tr&quot;</span>).find(<span class="string">&quot;td:not(:last-child)&quot;</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">index, value</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (index == <span class="number">1</span>) &#123;</span><br><span class="line">        $(<span class="built_in">this</span>).html(<span class="string">&#x27;&lt;input type=&quot;date&quot; class=&quot;form-control&quot; value=&quot;&#x27;</span> + $(<span class="built_in">this</span>).text() + <span class="string">&#x27;&quot;&gt;&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        $(<span class="built_in">this</span>).html(<span class="string">&#x27;&lt;input type=&quot;text&quot; class=&quot;form-control&quot; value=&quot;&#x27;</span> + $(<span class="built_in">this</span>).text() + <span class="string">&#x27;&quot;&gt;&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);     </span><br><span class="line">    $(<span class="built_in">this</span>).parents(<span class="string">&quot;tr&quot;</span>).find(<span class="string">&quot;.add, .edit&quot;</span>).toggle();</span><br><span class="line">    $(<span class="string">&quot;.add-new&quot;</span>).attr(<span class="string">&quot;disabled&quot;</span>, <span class="string">&quot;disabled&quot;</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="刪除功能"><a href="#刪除功能" class="headerlink" title="刪除功能"></a>刪除功能</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).on(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;.delete&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="built_in">this</span>).parents(<span class="string">&quot;tr&quot;</span>).remove();</span><br><span class="line">    $(<span class="string">&quot;.add-new&quot;</span>).removeAttr(<span class="string">&quot;disabled&quot;</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<iframe width="100%" height="500" src="https://codepen.io/ZZYume/embed/QWNVXoK?height=265&theme-id=dark&default-tab=result" frameborder="0"></iframe>


<p>ref: <a href="https://www.tutorialrepublic.com/faq.php">https://www.tutorialrepublic.com/faq.php</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>css</tag>
        <tag>javascript</tag>
        <tag>jquery</tag>
        <tag>Bootstrap</tag>
        <tag>Bootstrap-table</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] GitHub pages + Hexo 搭建 Blog (Mac)</title>
    <url>/2020/09/11/%E7%AD%86%E8%A8%98-GitHub-pages-Hexo-%E6%90%AD%E5%BB%BA-Blog-Mac/</url>
    <content><![CDATA[<blockquote>
<p>自己在建置的時候查了很多資料，整理完希望幫助到有需要的人<br>完整手把手教學  GitHub pages + Hexo 搭建</p>
</blockquote>
<span id="more"></span>

<h3 id="環境建置"><a href="#環境建置" class="headerlink" title="環境建置"></a>環境建置</h3><ul>
<li>安裝 <a href="https://nodejs.org/en/">Node.js</a><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">brew install node</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="安裝-Hexo"><a href="#安裝-Hexo" class="headerlink" title="安裝 Hexo"></a>安裝 Hexo</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<h3 id="初始化-Hexo"><a href="#初始化-Hexo" class="headerlink" title="初始化 Hexo"></a>初始化 Hexo</h3><p>安裝完 Hexo 後，執行下方指令，Hexo 就會在指定資料夾 <folder name> 中新建所需要的的檔案。</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">hexo init &lt;folder name&gt;</span><br><span class="line"><span class="built_in">cd</span> &lt;folder name&gt;</span><br><span class="line">npm install</span><br><span class="line">//安裝 git 部署套件</span><br><span class="line">npm install hexo-deployer-git --save  </span><br></pre></td></tr></table></figure>

<h3 id="啟動-Hexo"><a href="#啟動-Hexo" class="headerlink" title="啟動 Hexo"></a>啟動 Hexo</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<ul>
<li><p>指令介紹<br>hexo generate (hexo g) 產生靜態檔案，會在目錄下產生public 資料夾<br>hexo server (hexo s) 預覽、啟動伺服器，預設 <a href="http://localhost:4000/">http://localhost:4000/</a><br>hexo deploy (hexo d) 部署網站 (EX: github, heroku … ）</p>
</li>
<li><p>常用組合<br>hexo d -g # 產生靜態檔後部署<br>hexo s -g # 產生靜態檔後預覽</p>
</li>
</ul>
<h3 id="網站配置-config-yml"><a href="#網站配置-config-yml" class="headerlink" title="網站配置 _config.yml"></a>網站配置 _config.yml</h3><p>5 ~ 12 行</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> </span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="string">//</span> <span class="string">內容描述(給搜尋引擎看的)</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span> </span><br><span class="line"><span class="attr">author:</span> </span><br><span class="line"><span class="attr">language:</span> <span class="string">en</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="將-Hexo-配置到-GitHub"><a href="#將-Hexo-配置到-GitHub" class="headerlink" title="將 Hexo 配置到 GitHub"></a>將 Hexo 配置到 GitHub</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">url: https:&#x2F;&#x2F;&lt;username&gt;.github.io&#x2F;</span><br><span class="line"></span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https:&#x2F;&#x2F;github.com&#x2F;&lt;username&gt;&#x2F;&lt;username&gt;&lt;&#x2F;username&gt;.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<ul>
<li>若沒有 GitHub 帳號<ol>
<li>至 <a href="https://github.com/">GitHub</a> 申請</li>
<li>新建 Repositories 取名為 &lt;blogname.github.io&gt;.github.io</li>
</ol>
</li>
</ul>
<h3 id="更換主題"><a href="#更換主題" class="headerlink" title="更換主題"></a>更換主題</h3><p>可至 <a href="https://hexo.io/themes/">Themes</a> 挑選，據說最多人用的是 <a href="https://theme-next.org/">NexT</a></p>
<ul>
<li><p>安裝 NexT</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;hexo-theme-next.git themes&#x2F;next</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改 _config.yml</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">theme: next ( default landscape )</span><br></pre></td></tr></table></figure>
</li>
<li><p>重新啟動 server</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="新增文章"><a href="#新增文章" class="headerlink" title="新增文章"></a>新增文章</h3><p>文章會以 Markdown 格式來撰寫，並且檔案存放在 <folder name>&#x2F;source&#x2F;_posts&#x2F;  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new &quot;&lt;title&gt;&quot;</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>GitHub</tag>
        <tag>Hexo</tag>
        <tag>GitHub pages</tag>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] HackerRank - Sales by Match</title>
    <url>/2021/04/02/%E7%AD%86%E8%A8%98-HackerRank-Sales-by-Match/</url>
    <content><![CDATA[<blockquote>
<p>HackerRank 上的題目：找出成對的襪子並算出總共有幾雙<br>此系列文章主要是自己在解題時覺得有趣的題目，記錄下來讓自己以後好複習，有興趣的人可以參考看看</p>
</blockquote>
<span id="more"></span>

<h2 id="先來看看題目"><a href="#先來看看題目" class="headerlink" title="先來看看題目"></a>先來看看題目</h2><p><a href="https://www.hackerrank.com/challenges/sock-merchant/problem?h_l=interview&playlist_slugs%5B%5D=interview-preparation-kit&playlist_slugs%5B%5D=warmup"><img src="https://i.imgur.com/McOlaEW.png"></a></p>
<h3 id="解題步驟："><a href="#解題步驟：" class="headerlink" title="解題步驟："></a>解題步驟：</h3><ol>
<li>想想怎麼找出成對的襪子並記錄</li>
<li>計算出所有成對的襪子有幾雙</li>
</ol>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><p>如果第一個想到用 dictionary 來實踐儲存不同顏色襪子有幾隻的話，<a href="https://zanazhong.github.io/2021/03/22/%E5%AD%B8%E7%BF%92-Python-List/">此篇文章</a> 有提到相關用法，這裡就不贅述。</p>
<p>最好要將 dictionay 裡所有的 value 值找出成對的並算出共有幾對的話可以使用 sum。</p>
<h3 id="sum-的用法"><a href="#sum-的用法" class="headerlink" title="sum 的用法"></a>sum 的用法</h3><div class="note default"><p>語法： sum(iterable, start)</p>
</div>

<p>input:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">list &#x3D; [2, 4, 1, 3, 6]</span><br><span class="line">print(sum(list))</span><br><span class="line">&#x2F;&#x2F; 起始點從 100 開始 (目前沒使用過)</span><br><span class="line">print(sum(list, 100))</span><br></pre></td></tr></table></figure>
<p>output:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">16</span><br><span class="line">116</span><br></pre></td></tr></table></figure>

<h3 id="解題"><a href="#解題" class="headerlink" title="解題"></a>解題</h3><h4 id="方法一-dict-sum"><a href="#方法一-dict-sum" class="headerlink" title="方法一 dict + sum"></a>方法一 dict + sum</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sockMerchant</span>(<span class="params">n, ar</span>):</span></span><br><span class="line">    pair_count = &#123;i : ar.count(i) <span class="keyword">for</span> i <span class="keyword">in</span> ar&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span>(i//<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> pair_count.values())</span><br></pre></td></tr></table></figure>
<h4 id="方法二-set-sum"><a href="#方法二-set-sum" class="headerlink" title="方法二 set + sum"></a>方法二 set + sum</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sockMerchant</span>(<span class="params">n, ar</span>):</span></span><br><span class="line">    pair_count = <span class="built_in">set</span>(ar)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span>(ar.count(i) // <span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> pair_count)</span><br></pre></td></tr></table></figure>

<h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><h4 id="方法一-for-loop"><a href="#方法一-for-loop" class="headerlink" title="方法一 for loop"></a>方法一 for loop</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">sockMerchant</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] ar)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (ar[i] != -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++ ) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ar[i] == ar[j]) &#123;</span><br><span class="line">                    count++;</span><br><span class="line">                    ar[j] = -<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(count);</span><br><span class="line">            sum += Math.floor(count / <span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="方法二-HashSet"><a href="#方法二-HashSet" class="headerlink" title="方法二 HashSet"></a>方法二 HashSet</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">sockMerchant</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] ar)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    HashSet&lt;Integer&gt; sock_set = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Integer i: ar) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sock_set.contains(i)) &#123;</span><br><span class="line">            sock_set.remove(i);</span><br><span class="line">            count++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            sock_set.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>ref: <a href="https://www.programiz.com/python-programming/methods/built-in/sum">https://www.programiz.com/python-programming/methods/built-in/sum</a></p>
]]></content>
      <categories>
        <category>hackerrank</category>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>dictionary</tag>
        <tag>hackerrank</tag>
        <tag>sum</tag>
        <tag>java</tag>
        <tag>hashset</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Hexo - nexT 基礎配置 (一)</title>
    <url>/2020/09/11/%E7%AD%86%E8%A8%98-Hexo-nexT-%E5%9F%BA%E7%A4%8E%E9%85%8D%E7%BD%AE-%E4%B8%80/</url>
    <content><![CDATA[<blockquote>
<p>自己在建置的時候查了很多資料，整理完希望幫助到有需要的人<br>此篇文章主要是修改 _config.yml 裡的設置</p>
</blockquote>
<span id="more"></span>

<h3 id="新建文章分類頁面-Categories"><a href="#新建文章分類頁面-Categories" class="headerlink" title="新建文章分類頁面 (Categories)"></a>新建文章分類頁面 (Categories)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure>
<p>修改 source&#x2F;categories&#x2F;index.md </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 產生當下時間</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>文章增加分類，只要在 categories 後面加入類別</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">categories: [categorie1, categorie2, ...]</span><br></pre></td></tr></table></figure>

<h3 id="新建文章標籤頁面-Tags"><a href="#新建文章標籤頁面-Tags" class="headerlink" title="新建文章標籤頁面 (Tags)"></a>新建文章標籤頁面 (Tags)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure>
<p>修改 source&#x2F;tags&#x2F;index.md </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 產生當下時間</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>文章增加標籤，只要在 tags 後面加入標籤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tags: [tag1, tag2, ...]</span><br></pre></td></tr></table></figure>
<p>下列方式會在文章中顯示 tags</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#39;[筆記] GitHub pages + Hexo 搭建 Blog (Mac)&#39;</span><br><span class="line">date: 2020-09-11 18:39:59</span><br><span class="line">tags: </span><br><span class="line">  - tag1</span><br><span class="line">  - tag2</span><br><span class="line">  - tag3</span><br><span class="line">  - tag4</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/q9GAmY2.png?450x" alt="圖片"></p>
<h3 id="設置首頁不顯示全文"><a href="#設置首頁不顯示全文" class="headerlink" title="設置首頁不顯示全文"></a>設置首頁不顯示全文</h3><p>Next默認會顯示全文，個人不是很喜歡，首頁會有點太長</p>
<ul>
<li>修改配置<br>印象安裝時 default 應該就是true<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">excerpt_description:</span>  <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>方法一： 在文章中寫 desctiption</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">--- </span><br><span class="line">title: &#39;文章標題&#39;</span><br><span class="line">date: 產生當下時間</span><br><span class="line">description: &#39;會顯示在首頁的摘要，其餘的會隱藏&#39;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法二：<br>  在文章中想截斷的地方加上 <code>&lt;!--more--&gt;</code></p>
</li>
</ul>
</li>
</ul>
<h3 id="文章中-note-樣式"><a href="#文章中-note-樣式" class="headerlink" title="文章中 note 樣式"></a>文章中 note 樣式</h3><ul>
<li><p>default:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">style: simple</span><br><span class="line">icons: false</span><br></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/79YnfVM.png" alt="圖片"></p>
</li>
<li><p>修改後</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">note:</span><br><span class="line">  style: flat</span><br><span class="line">  icons: true</span><br></pre></td></tr></table></figure>
<div class="note default"><p>default note</p>
</div>

<div class="note primary"><p>primary note</p>
</div>

<div class="note success"><p>success note</p>
</div>

<div class="note info"><p>info note</p>
</div>

<div class="note warning"><p>warning note</p>
</div>

<div class="note danger"><p>danger note</p>
</div>

<p>使用方法：(跟 HackMD 滿像的)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note default %&#125;</span><br><span class="line">default note</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary %&#125;</span><br><span class="line">primary note</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success %&#125;</span><br><span class="line">success note</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info %&#125;</span><br><span class="line">info note</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning %&#125;</span><br><span class="line">warning note</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger %&#125;</span><br><span class="line">danger note</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Scheme-設定"><a href="#Scheme-設定" class="headerlink" title="Scheme 設定"></a>Scheme 設定</h3><p>在 NexT 中以下幾種 Scheme 可選擇，預設主題為Muse<br>修改 theme&#x2F;next&#x2F;_config.yml，去掉註解 ‘#’ 即可</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">#scheme: Pisces</span><br><span class="line">scheme: Gemini</span><br></pre></td></tr></table></figure>

<h3 id="開啟社群帳號連結"><a href="#開啟社群帳號連結" class="headerlink" title="開啟社群帳號連結"></a>開啟社群帳號連結</h3><p>修改 theme&#x2F;next&#x2F;_config.yml，去掉註解 ‘#’ 即可</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Social Links</span><br><span class="line"># Usage: &#96;Key: permalink || icon&#96;</span><br><span class="line"># Key is the link label showing to end users.</span><br><span class="line"># Value before &#96;||&#96; delimiter is the target permalink, value after &#96;||&#96; delimiter is the name of Font Awesome icon.</span><br><span class="line">social:</span><br><span class="line">  #GitHub: https:&#x2F;&#x2F;github.com&#x2F;yourname || fab fa-github</span><br><span class="line">  #E-Mail: mailto:yourname@gmail.com || fa fa-envelope</span><br><span class="line">  #Weibo: https:&#x2F;&#x2F;weibo.com&#x2F;yourname || fab fa-weibo</span><br><span class="line">  #Google: https:&#x2F;&#x2F;plus.google.com&#x2F;yourname || fab fa-google</span><br><span class="line">  #Twitter: https:&#x2F;&#x2F;twitter.com&#x2F;yourname || fab fa-twitter</span><br><span class="line">  #FB Page: https:&#x2F;&#x2F;www.facebook.com&#x2F;yourname&#x2F; || fab fa-facebook</span><br><span class="line">  #StackOverflow: https:&#x2F;&#x2F;stackoverflow.com&#x2F;yourname || fab fa-stack-overflow</span><br><span class="line">  #YouTube: https:&#x2F;&#x2F;youtube.com&#x2F;yourname || fab fa-youtube</span><br><span class="line">  #Instagram: https:&#x2F;&#x2F;instagram.com&#x2F;yourname || fab fa-instagram</span><br><span class="line">  #Skype: skype:yourname?call|chat || fab fa-skype</span><br></pre></td></tr></table></figure>

<h3 id="大頭貼設定"><a href="#大頭貼設定" class="headerlink" title="大頭貼設定"></a>大頭貼設定</h3><p>修改 theme&#x2F;next&#x2F;_config.yml，去掉註解 ‘#’ 即可</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">url:</span> <span class="comment">#/images/avatar.gif</span></span><br><span class="line">  <span class="comment"># If true, the avatar will be dispalyed in circle.</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
        <tag>Hexo</tag>
        <tag>GitHub pages</tag>
        <tag>Blog</tag>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Hexo - 換電腦重新部署環境</title>
    <url>/2023/04/17/%E7%AD%86%E8%A8%98-Hexo-%E6%8F%9B%E9%9B%BB%E8%85%A6%E9%87%8D%E6%96%B0%E9%83%A8%E7%BD%B2%E7%92%B0%E5%A2%83/</url>
    <content><![CDATA[<blockquote>
<p>換電腦後發現即使有用 time machine 做備份還是要重新部署<br>因為 push 至 github 的是已經編譯過後的檔案，所以沒有留原始檔的話，看起來應該沒救了(?)</p>
</blockquote>
<span id="more"></span>
<h3 id="step-1-電腦環境設定"><a href="#step-1-電腦環境設定" class="headerlink" title="step 1: 電腦環境設定"></a>step 1: 電腦環境設定</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git --version</span><br><span class="line">node -v</span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure>
<center>
   <img src="https://i.imgur.com/wNuNXtT.png" width="40%">
</center>

<h3 id="step-2-重新建置-Hexo-環境"><a href="#step-2-重新建置-Hexo-環境" class="headerlink" title="step 2: 重新建置 Hexo 環境"></a>step 2: 重新建置 Hexo 環境</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">#建立一個 blog 的資料夾 (blog_name 請自行命名~)</span><br><span class="line">hexo init blog_name  </span><br></pre></td></tr></table></figure>
<p>若是有其他的要安裝請參考 <a href="https://zanazhong.github.io/2020/09/11/%E7%AD%86%E8%A8%98-GitHub-pages-Hexo-%E6%90%AD%E5%BB%BA-Blog-Mac/#more">Hexo 環境安裝</a></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> blog_name</span><br></pre></td></tr></table></figure>
<h4 id="將備份的檔案複製至新的-Hexo-環境"><a href="#將備份的檔案複製至新的-Hexo-環境" class="headerlink" title="將備份的檔案複製至新的 Hexo 環境"></a>將備份的檔案複製至新的 Hexo 環境</h4><center>
   <img src="https://i.imgur.com/lWLZd0F.png)" width="40%">
</center>

<p>將除了 node_modules 跟 public 之外的檔案複製過去</p>
<blockquote>
<p>node_modules 是放一些 library 的地方，執行 npm install 時就會下載相關的 library；而 public 是放原始檔編譯後的檔案，之後部署時會再建回來</p>
</blockquote>
<h4 id="複製完執行以下指令"><a href="#複製完執行以下指令" class="headerlink" title="複製完執行以下指令"></a>複製完執行以下指令</h4><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm install</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure>
<p>可能會出現一些 Error or Warning，照著他的指示修正即可</p>
<h3 id="step-3-在本地端-preview-一下"><a href="#step-3-在本地端-preview-一下" class="headerlink" title="step 3: 在本地端 preview 一下"></a>step 3: 在本地端 preview 一下</h3><p>上線前還是小心謹慎一點好，先在本地檢視一下有沒有如期正常顯示，畢竟裡面已經有嘔心瀝血作品</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">#透過本機的 http://localhost:<span class="number">4000</span> 查看</span><br><span class="line">hexo s --debug</span><br></pre></td></tr></table></figure>

<h3 id="step-4-重新部署-gogo"><a href="#step-4-重新部署-gogo" class="headerlink" title="step 4: 重新部署 gogo"></a>step 4: 重新部署 gogo</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">hexo d -g</span><br></pre></td></tr></table></figure>


<h3 id="番外-部署問題"><a href="#番外-部署問題" class="headerlink" title="番外: 部署問題"></a>番外: 部署問題</h3><blockquote>
<p>事情有時候總是沒這麼簡單的喇!!</p>
</blockquote>
<p>看起來一般來說他給的這個網站裡面都能找到解法 ⬇️<br>Something’s wrong. Maybe you can find the solution here: %s <a href="https://hexo.io/docs/troubleshooting.html">https://hexo.io/docs/troubleshooting.html</a></p>
<p>分享一下我遇到的是 github Authentication Failed (身份驗證失敗)<br>解法：</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"># 進去網站資料夾</span><br><span class="line"><span class="built_in">cd</span> blog_name</span><br><span class="line"></span><br><span class="line"># 修改 _config.yml</span><br><span class="line">vim _config.yml</span><br></pre></td></tr></table></figure>
<p>將 https 方式改成用 ssh 方式</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="function">deploy:</span></span><br><span class="line"><span class="function">    <span class="title">type</span>: <span class="title">git</span></span></span><br><span class="line"><span class="function">    <span class="title">repo</span>: <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">yourname</span>/<span class="title">yourname.github.io.git</span> -&gt; <span class="title">git</span>@<span class="title">github.com:yourname</span>/<span class="title">yourname.github.io.git</span></span></span><br><span class="line"><span class="function">    <span class="title">branch</span>: <span class="title">master</span></span></span><br></pre></td></tr></table></figure>

<ol>
<li><p>Generating a new SSH key and adding it to the ssh-agent <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">:link:</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls -al ~&#x2F;.ssh</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t ed25519 -C &quot;your_email@example.com&quot;</span><br></pre></td></tr></table></figure>
<p>產生金鑰的過程中，會問 3 個問題，如果沒有特殊需求可以全部使用預設值(press Enter)就好</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 金鑰儲存的位置與檔名，預設檔名是前面所提到 id_ed25519，可以更改檔名，ex: githud_key</span><br><span class="line">Enter file in which to save the key (&#x2F;home&#x2F;username&#x2F;.ssh&#x2F;id_ed25519): [Press enter]</span><br><span class="line"></span><br><span class="line"># 詢問是否指定金鑰保護密碼，若有設定密碼的話，之後使用每次使用時，這把金鑰時就要輸入密碼，請務必牢記。之後想修改金鑰密碼的話，可以透過 ssh-keygen 來設定。</span><br><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Generating public&#x2F;private ed25519 key pair.</span><br><span class="line">Enter file in which to save the key (&#x2F;Users&#x2F;username&#x2F;.ssh&#x2F;id_ed25519):</span><br><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved in &#x2F;Users&#x2F;username&#x2F;.ssh&#x2F;id_ed25519</span><br><span class="line">Your public key has been saved in &#x2F;Users&#x2F;username&#x2F;.ssh&#x2F;id_ed25519.pub</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:*************************** your_email@example.com</span><br><span class="line">The key&#39;s randomart image is:</span><br><span class="line">+--[ED25519 256]--+</span><br><span class="line">|                 |</span><br><span class="line">|                 |</span><br><span class="line">|                 |</span><br><span class="line">|                 |</span><br><span class="line">|                 |</span><br><span class="line">|                 |</span><br><span class="line">|                 |</span><br><span class="line">|                 |</span><br><span class="line">|                 |</span><br><span class="line">+----[SHA256]-----+</span><br></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/lDCil5I.png"></p>
<p>設定金鑰代理</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">eval &quot;$(ssh-agent -s)&quot;</span><br><span class="line"># output: Agent pid <span class="number">98350</span></span><br></pre></td></tr></table></figure>

<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">touch ~/.ssh/config</span><br><span class="line">open ~/.ssh/config</span><br></pre></td></tr></table></figure>
<p>modify ~&#x2F;.ssh&#x2F;config</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">Host *</span><br><span class="line">   AddKeysToAgent yes</span><br><span class="line">   UseKeychain yes</span><br><span class="line">   IdentityFile ~/.ssh/id_ed25519 #！如果有改名的話這邊記得改</span><br></pre></td></tr></table></figure>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"># Add your SSH private key to the ssh-agen</span><br><span class="line">ssh-add -K ~/.ssh/id_ed25519</span><br><span class="line"># <span class="built_in">copy</span> it</span><br><span class="line">pbcopy &lt; ~/.ssh/id_ed25519.pub #！如果有改名的話這邊記得改</span><br></pre></td></tr></table></figure>


</li>
<li><p>Adding a new SSH key to your GitHub account<a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">:link:</a><br>![](<a href="https://i.imgur.com/fT8xpej.png">https://i.imgur.com/fT8xpej.png</a> &#x3D;200x)<br><img src="https://i.imgur.com/esiwR1T.png"></p>
<p><img src="https://i.imgur.com/8yv980c.png"></p>
<p>連線測試</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br><span class="line"># output: Hi XXX! You’ve successfully authenticated, but GitHub does <span class="keyword">not</span> provide shell access.</span><br></pre></td></tr></table></figure></li>
<li><p>deploy on GitHub</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
        <tag>Hexo</tag>
        <tag>GitHub pages</tag>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Hexo - nexT 基礎配置 (三)</title>
    <url>/2020/09/14/%E7%AD%86%E8%A8%98-Hexo-nexT-%E5%9F%BA%E7%A4%8E%E9%85%8D%E7%BD%AE-%E4%B8%89/</url>
    <content><![CDATA[<blockquote>
<p>自己在建置的時候查了很多資料，整理完希望幫助到有需要的人<br>此篇文章主要教學 Disqus 建置</p>
</blockquote>
<span id="more"></span>


<h3 id="新增留言功能"><a href="#新增留言功能" class="headerlink" title="新增留言功能"></a>新增留言功能</h3><ol>
<li><p>至 <a href="https://disqus.com/">Disqus</a> 註冊帳號<br>  <img src="https://i.imgur.com/fJmBmr6.png" alt="圖片"></p>
</li>
<li><p>選擇 I want to install Disqus on my site<br>  <img src="https://i.imgur.com/muQV1ZW.jpg" alt="圖片"></p>
</li>
<li><p>.<br>  <img src="https://i.imgur.com/FqbITcy.png" alt="圖片"></p>
</li>
<li><p>到 <a href="https://disqus.com/api/applications/">Disqus API Application</a> 註冊 application<br>  <img src="https://i.imgur.com/uVVwI0b.png" alt="圖片"></p>
<ul>
<li>點選 Register new application</li>
<li>完成後就會给你一個 API Key<br> <img src="https://i.imgur.com/HFKEZ37.png" alt="圖片"></li>
</ul>
</li>
<li><p>設定 Hexo<br>themes&#x2F;next&#x2F;_config.yml</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Disqus</span></span><br><span class="line"><span class="attr">disqus:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">shortname:</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># DisqusJS</span></span><br><span class="line"><span class="comment"># Alternative Disqus - Render comment component using Disqus API.</span></span><br><span class="line"><span class="comment"># Demo: https://suka.js.org/DisqusJS/</span></span><br><span class="line"><span class="comment"># For more information: https://github.com/SukkaW/DisqusJS</span></span><br><span class="line"><span class="attr">disqusjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># API Endpoint of Disqus API (https://disqus.com/api/).</span></span><br><span class="line">  <span class="comment"># Leave api empty if you are able to connect to Disqus API. Otherwise you need a reverse proxy for it.</span></span><br><span class="line">  <span class="comment"># For example:</span></span><br><span class="line">  <span class="comment"># api: https://disqus.skk.moe/disqus/</span></span><br><span class="line">  <span class="attr">api:</span></span><br><span class="line">  <span class="attr">apikey:</span> <span class="comment"># Register new application from https://disqus.com/api/applications/</span></span><br><span class="line">  <span class="attr">shortname:</span> <span class="comment"># See: https://disqus.com/admin/settings/general/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>完成<br>  <img src="https://i.imgur.com/iSG3tLo.png" alt="圖片"></p>
</li>
</ol>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
        <tag>Hexo</tag>
        <tag>GitHub pages</tag>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Hexo - nexT 基礎配置 (二)</title>
    <url>/2020/09/11/%E7%AD%86%E8%A8%98-Hexo-nexT-%E5%9F%BA%E7%A4%8E%E9%85%8D%E7%BD%AE-%E4%BA%8C/</url>
    <content><![CDATA[<blockquote>
<p>自己在建置的時候查了很多資料，整理完希望幫助到有需要的人<br>此篇文章需要下載一些而外的套件</p>
</blockquote>
<span id="more"></span>

<h3 id="pjax-安裝-還不知道要做啥"><a href="#pjax-安裝-還不知道要做啥" class="headerlink" title="pjax 安裝 (還不知道要做啥)"></a>pjax 安裝 (還不知道要做啥)</h3><blockquote>
<p>pjax 實現了 URL 改變但不重新整理整個頁面，也就是只有局部的頁面會更新，不會讓整個頁面重新閃動（重新整理）。那這個功能有什麼特色呢？最重要的就是原本左下角的音樂播放器遇到切換頁面，就會停掉然後重新載入；但使用 pjax 後就能解決這個問題。</p>
</blockquote>
<p>&#x2F;themes&#x2F;next&#x2F;_config.yml，修改 pjax: true：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Easily enable fast Ajax navigation on your website.</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-pjax</span></span><br><span class="line"><span class="attr">pjax:</span> <span class="literal">true</span> <span class="string">(default</span> <span class="literal">null</span><span class="string">)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/theme-next/theme-next-pjax themes/next/source/lib/pjax</span><br></pre></td></tr></table></figure>

<h3 id="文章字數統計-x2F-閱讀時間安裝"><a href="#文章字數統計-x2F-閱讀時間安裝" class="headerlink" title="文章字數統計&#x2F;閱讀時間安裝"></a>文章字數統計&#x2F;閱讀時間安裝</h3><p>&#x2F;themes&#x2F;next&#x2F;_config.yml</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;hexo-symbols-count-time</span><br><span class="line">symbols_count_time:</span><br><span class="line">  separated_meta: true # 是否&quot;換行顯示&quot;字數統計及閱讀時長</span><br><span class="line">  item_text_post: false # 字數統計和閱讀時長是要使用小圖示(true)還是文字表示(false)</span><br><span class="line">  item_text_total: false # 文章底部的字數統計和閱讀時長是要使用小圖示(true)還是文字表示(false)</span><br></pre></td></tr></table></figure>

<h3 id="讓google可以搜尋到你的網站"><a href="#讓google可以搜尋到你的網站" class="headerlink" title="讓google可以搜尋到你的網站"></a>讓google可以搜尋到你的網站</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure>
<p>Hexo 資料夾根目錄 &#x2F;_config.yml</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br></pre></td></tr></table></figure>
<p>但事情沒這麼單純，之後有空再寫</p>
<h3 id="文章搜尋功能安裝"><a href="#文章搜尋功能安裝" class="headerlink" title="文章搜尋功能安裝"></a>文章搜尋功能安裝</h3><p>&#x2F;themes&#x2F;next&#x2F;_config.yml</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="string">(default</span> <span class="literal">false</span><span class="string">)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>
<p>Hexo 資料夾根目錄 &#x2F;_config.yml<br>自己加上，加入最末端即可</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 文章搜尋功能</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br></pre></td></tr></table></figure>

<h3 id="頁面滾動進度條"><a href="#頁面滾動進度條" class="headerlink" title="頁面滾動進度條"></a>頁面滾動進度條</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reading_progress:</span><br><span class="line">  enable: true (default false)</span><br></pre></td></tr></table></figure>
<p>(好像要下載這個，但我好像沒有)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;theme-next-reading-progress source&#x2F;lib&#x2F;reading_progress</span><br></pre></td></tr></table></figure>

<h3 id="頁面載入進度條"><a href="#頁面載入進度條" class="headerlink" title="頁面載入進度條"></a>頁面載入進度條</h3><p>我的沒反應QQQQQ</p>
<!-- https://blog.pangao.vip/Hexo%E5%8D%9A%E5%AE%A2NexT%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E4%B9%8B%E9%A1%B6%E9%83%A8%E5%8A%A0%E8%BD%BD%E8%BF%9B%E5%BA%A6%E6%9D%A1/ -->
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;theme-next-pace source&#x2F;lib&#x2F;pace</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pace:</span><br><span class="line">  enable: true</span><br><span class="line">  # Themes list:</span><br><span class="line">  # big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | center-simple</span><br><span class="line">  # corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material | minimal</span><br><span class="line">  theme: minimal</span><br></pre></td></tr></table></figure>

<h3 id="閱讀統計"><a href="#閱讀統計" class="headerlink" title="閱讀統計"></a>閱讀統計</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">busuanzi_count:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/43jmHsU.png?90x" alt="圖片"></p>
<h3 id="文章中程式碼設置"><a href="#文章中程式碼設置" class="headerlink" title="文章中程式碼設置"></a>文章中程式碼設置</h3><ul>
<li><p>區塊樣式<br>可至 <a href="https://theme-next.js.org/highlight/">themes</a> 挑選</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span></span><br><span class="line">  <span class="attr">light:</span> <span class="string">atom-one-dark-reasonable</span></span><br><span class="line">  <span class="attr">dark:</span> <span class="string">tomorrow-night</span></span><br><span class="line"><span class="attr">prism:</span></span><br><span class="line">  <span class="attr">light:</span> <span class="string">prism</span></span><br><span class="line">  <span class="attr">dark:</span> <span class="string">prism-dark</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>copy button</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">border_radius:</span></span><br><span class="line">  <span class="attr">copy_button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Available values: default | flat | mac</span></span><br><span class="line">    <span class="attr">style:</span> <span class="string">flat</span></span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <tags>
        <tag>GitHub</tag>
        <tag>Hexo</tag>
        <tag>GitHub pages</tag>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Leetcode - 136. Single Number</title>
    <url>/2023/09/28/%E7%AD%86%E8%A8%98-Leetcode-%20136.-Single%20Number/</url>
    <content><![CDATA[<p><a href="https://leetcode.com/problems/single-number/">https://leetcode.com/problems/single-number/</a></p>
<blockquote>
<p>Given a non-empty array of integers nums, every element appears twice except for one. Find that single one.<br>You must implement a solution with a linear runtime complexity and use only constant extra space.</p>
</blockquote>
<p><img src="https://hackmd.io/_uploads/BJfpj0Mx6.png"></p>
<span id="more"></span>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        <span class="built_in">list</span> = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> <span class="built_in">list</span>:</span><br><span class="line">                <span class="built_in">list</span>.remove(i)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">list</span>.append(i)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">list</span>.pop()</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>list</tag>
        <tag>Leetcode</tag>
        <tag>Python</tag>
        <tag>Coding</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Leetcode - 1716. Calculate Money in Leetcode Bank</title>
    <url>/2023/12/07/%E7%AD%86%E8%A8%98-Leetcode-%201716.-Calculate%20Money-in%20Leetcode-Bank/</url>
    <content><![CDATA[<p><a href="https://leetcode.com/problems/calculate-money-in-leetcode-bank">https://leetcode.com/problems/calculate-money-in-leetcode-bank</a></p>
<blockquote>
<p>Hercy wants to save money for his first car. He puts money in the Leetcode bank every day.</p>
</blockquote>
<p>He starts by putting in $1 on Monday, the first day. Every day from Tuesday to Sunday, he will put in $1 more than the day before. On every subsequent Monday, he will put in $1 more than the previous Monday.<br>Given n, return the total amount of money he will have in the Leetcode bank at the end of the nth day.</p>
<p><img src="https://hackmd.io/_uploads/HJQMMQkL6.png" alt="image"></p>
<span id="more"></span>

<blockquote>
<p>key: 總和用上底加下底乘高除二計算，再加上剩餘天數</p>
</blockquote>
<p>第一週: 1 + 2 + 3 + 4 + 5 + 6 + 7 &#x3D; 28<br>第二週: 2 + 3 + 4 + 5 + 6 + 7 + 8 &#x3D; 28 + 7<br>第三週為: 3 + 4 + 5 + 6 + 7 + 8 + 9 &#x3D; 28 + 7 x 2<br>.<br>.<br>.<br>N 週過去，總金額為: 28 + (28 + 7) + (28 + 7 × 2) + …… + [28 + 7 × (N - 1)]</p>
<p>{[28 + 28 + 7(N - 1)] × R} ÷ 2 </p>
<p>最後記得加上不滿週的天數: (N + 1) + (N + 2) + … + (N + D)<br>[(N + 1) + (N + D)] x D ÷ 2 </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">totalMoney</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        week, day = <span class="built_in">divmod</span>(n, <span class="number">7</span>)</span><br><span class="line">        <span class="keyword">return</span> (<span class="number">28</span> + <span class="number">28</span> + <span class="number">7</span> * (week - <span class="number">1</span>)) * week // <span class="number">2</span> + (week * <span class="number">2</span> + day + <span class="number">1</span>) * day // <span class="number">2</span></span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Leetcode</tag>
        <tag>Python</tag>
        <tag>Math</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Leetcode - 217. Contains Duplicate</title>
    <url>/2023/09/28/%E7%AD%86%E8%A8%98-Leetcode-%20217.-Contains-Duplicate/</url>
    <content><![CDATA[<p><a href="https://leetcode.com/problems/contains-duplicate/">https://leetcode.com/problems/contains-duplicate/</a></p>
<blockquote>
<p>Given an integer array nums, return true if any value appears at least twice in the array, and return false if every element is distinct.</p>
</blockquote>
<p><img src="https://hackmd.io/_uploads/H1SgWl7ga.png"></p>
<span id="more"></span>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">containsDuplicate</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        ans = &#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> num <span class="keyword">in</span> ans:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans[num] = <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">containsDuplicate</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        ans = &#123;&#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> ans.get(num):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans[num] = <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">containsDuplicate</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(nums) != <span class="built_in">len</span>(<span class="built_in">list</span>(<span class="built_in">set</span>(nums)))</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>list</tag>
        <tag>Leetcode</tag>
        <tag>Python</tag>
        <tag>Coding</tag>
        <tag>set</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Leetcode - 905. Sort Array By Parity</title>
    <url>/2023/09/29/%E7%AD%86%E8%A8%98-Leetcode-%20905.-Sort-Array-By-Parity/</url>
    <content><![CDATA[<p><a href="https://leetcode.com/problems/contains-duplicate/">https://leetcode.com/problems/contains-duplicate/</a></p>
<blockquote>
<p>Given an integer array nums, move all the even integers at the beginning of the array followed by all the odd integers.<br>Return any array that satisfies this condition.</p>
</blockquote>
<p><img src="https://hackmd.io/_uploads/SJBmot7lp.png"></p>
<span id="more"></span>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sortArrayByParity</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span></span><br><span class="line">        left, right = <span class="number">0</span>, <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> left &lt; right: </span><br><span class="line">            <span class="keyword">if</span> nums[right] % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">and</span> nums[left] % <span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">                nums[right], nums[left] = nums[left], nums[right]</span><br><span class="line">                left += <span class="number">1</span></span><br><span class="line">                right -= <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> nums[left] % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">                left += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> nums[right] % <span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">                right -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> nums</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sortArrayByParity</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span>        even_idx = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            <span class="keyword">if</span> nums[i] % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">                nums[even_idx], nums[i] = nums[i], nums[even_idx]</span><br><span class="line">                even_idx += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> nums</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>list</tag>
        <tag>Leetcode</tag>
        <tag>Python</tag>
        <tag>Coding</tag>
        <tag>two pointer</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Leetcode - 56. Merge Intervals</title>
    <url>/2023/09/05/%E7%AD%86%E8%A8%98-Leetcode-%2056.-Merge%20Intervals/</url>
    <content><![CDATA[<p><a href="https://leetcode.com/problems/merge-intervals/">https://leetcode.com/problems/merge-intervals/</a></p>
<p><img src="https://i.imgur.com/FaQwh8J.png"><br>It means each list in intervals is a range, just to merge the overlapping one, others stay the same.</p>
<span id="more"></span>


<p>解題:</p>
<ol>
<li>sort</li>
</ol>
<p>sort by the start of each range<br>save the first one in result<br>if any the start of each range smaller then the last item in result, it should be merged, otherwise append in result</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">merge</span>(<span class="params">self, intervals</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type intervals: List[List[int]]</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># internals.sort(key = lambda x = x[0])</span></span><br><span class="line">        sort_intervals = <span class="built_in">sorted</span>(intervals, key = <span class="keyword">lambda</span> x: x[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        res = [sort_intervals[<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> start, end <span class="keyword">in</span> sort_intervals[<span class="number">1</span>:]:</span><br><span class="line">            <span class="keyword">if</span> res[-<span class="number">1</span>][<span class="number">1</span>] &gt;= start:</span><br><span class="line">                res[-<span class="number">1</span>][<span class="number">1</span>] = <span class="built_in">max</span>(res[-<span class="number">1</span>][<span class="number">1</span>], end)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res.append([start, end])</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Leetcode</tag>
        <tag>Python</tag>
        <tag>Coding</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Leetcode - 1491. Average Salary Excluding the Minimum and Maximum Salary</title>
    <url>/2023/05/01/%E7%AD%86%E8%A8%98-Leetcode-1491-Average-Salary-Excluding-the-Minimum-and-Maximum-Salary/</url>
    <content><![CDATA[<p><a href="https://leetcode.com/problems/average-salary-excluding-the-minimum-and-maximum-salary/">https://leetcode.com/problems/average-salary-excluding-the-minimum-and-maximum-salary/</a></p>
<blockquote>
<p>You are given an array of unique integers salary where salary[i] is the salary of the ith employee.<br>Return the average salary of employees excluding the minimum and maximum salary. Answers within 10-5 of the actual answer will be accepted.</p>
</blockquote>
<p><img src="https://i.imgur.com/uoZrJtI.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">average</span>(<span class="params">self, salary: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">float</span>:</span> </span><br><span class="line">        salary.sort()</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(salary[<span class="number">1</span>:-<span class="number">1</span>]) / (<span class="built_in">len</span>(salary) - <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">average</span>(<span class="params">self, salary: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        salary.remove(<span class="built_in">min</span>(salary))</span><br><span class="line">        salary.remove(<span class="built_in">max</span>(salary))</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(salary) / <span class="built_in">len</span>(salary)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">average</span>(<span class="params">self, salary: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="built_in">sum</span>(salary) - <span class="built_in">min</span>(salary) - <span class="built_in">max</span>(salary)) / (<span class="built_in">len</span>(salary) - <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">average</span>(<span class="params">self, salary: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        salary.sort()</span><br><span class="line">        salary.pop(<span class="number">0</span>)</span><br><span class="line">        salary.pop()</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(salary) / <span class="built_in">len</span>(salary)</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>sort</tag>
        <tag>Leetcode</tag>
        <tag>Python</tag>
        <tag>Coding</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Relative Dropdown List</title>
    <url>/2021/03/30/%E7%AD%86%E8%A8%98-Relative-Dropdown-List/</url>
    <content><![CDATA[<blockquote>
<p>實習開發網站，常遇到一些功能需求要上網查詢，整理成筆記以後再用到就不用又從頭開始找，也希望幫助到正在找學這些功能的人</p>
</blockquote>
<span id="more"></span>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// get the one which just select</span></span><br><span class="line">$(<span class="string">&#x27;.form_select select&#x27;</span>).change(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123; </span><br><span class="line">  <span class="keyword">var</span> current_selected = <span class="built_in">this</span>.id;</span><br><span class="line">  <span class="comment">// get all Dropdown in the form</span></span><br><span class="line">  <span class="comment">// remove val of dropdowns except current select </span></span><br><span class="line">  $(<span class="string">&#x27;.form_select select:not(#&#x27;</span> + current_selected + <span class="string">&#x27;)&#x27;</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">&#x27;#&#x27;</span> + <span class="built_in">this</span>.id).val(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<iframe width="100%" height="500" src="https://codepen.io/ZZYume/embed/MWJjPGa?height=265&theme-id=dark&default-tab=html,result" frameborder="0">See the Pen <a href='https://codepen.io/ZZYume/pen/MWJjPGa'>Relative Dropdown List </a> by Yume
  (<a href='https://codepen.io/ZZYume'>@ZZYume</a>) on <a href='https://codepen.io'>CodePen</a>.</iframe>

]]></content>
      <categories>
        <category>html</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>css</tag>
        <tag>javascript</tag>
        <tag>jquery</tag>
        <tag>dropdown</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] 網頁版面 - 側邊欄</title>
    <url>/2020/09/20/%E7%AD%86%E8%A8%98-%E7%B6%B2%E9%A0%81%E7%89%88%E9%9D%A2-%E5%81%B4%E9%82%8A%E6%AC%84/</url>
    <content><![CDATA[<blockquote>
<p>實習開發網站，常遇到一些功能需求要上網查詢，整理成筆記以後再用到就不用又從頭開始找，也希望幫助到正在找學這些功能的人</p>
</blockquote>
<span id="more"></span>


<iframe width="100%" height="500" src="https://codepen.io/ZZYume/embed/WNwaPpJ?height=265&theme-id=dark&default-tab=result" frameborder="0"></iframe>

<p>想看比較清楚的 code，我也有放在 <a href="https://github.com/ZanaZhong/side-nav.github.io">Github</a></p>
]]></content>
      <tags>
        <tag>html</tag>
        <tag>css</tag>
        <tag>javascript</tag>
        <tag>jquery</tag>
        <tag>Bootstrap</tag>
        <tag>Bootstrap-table</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Leetcode - 867. Transpose Matrix</title>
    <url>/2023/12/10/%E7%AD%86%E8%A8%98-Leetcode-867.-Transpose-Matrix/</url>
    <content><![CDATA[<p><a href="https://leetcode.com/problems/transpose-matrix/">https://leetcode.com/problems/transpose-matrix/</a></p>
<blockquote>
<p>Given a 2D integer array matrix, return the transpose of matrix.</p>
<p>The transpose of a matrix is the matrix flipped over its main diagonal, switching the matrix’s row and column indices.</p>
</blockquote>
<span id="more"></span>

<p>Example 1:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Input: matrix &#x3D; [[1,2,3],[4,5,6],[7,8,9]]</span><br><span class="line">Output: [[1,4,7],[2,5,8],[3,6,9]]</span><br></pre></td></tr></table></figure>
<p>Example 2:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Input: matrix &#x3D; [[1,2,3],[4,5,6]]</span><br><span class="line">Output: [[1,4],[2,5],[3,6]]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">transpose</span>(<span class="params">self, matrix: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span></span><br><span class="line">        result = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(matrix[<span class="number">0</span>])):</span><br><span class="line">            new_matrix = []</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(matrix)):</span><br><span class="line">                new_matrix.append(matrix[row][col])</span><br><span class="line"></span><br><span class="line">            result.append(new_matrix)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Leetcode</tag>
        <tag>Python</tag>
        <tag>Matrix</tag>
      </tags>
  </entry>
  <entry>
    <title>[筆記] Leetcode - 2215. Find the Difference of Two Arrays</title>
    <url>/2023/05/03/%E7%AD%86%E8%A8%98-Leetcode-1822-Sign-of-the-Product-of-an-Array/</url>
    <content><![CDATA[<span id="more"></span>

<blockquote>
<p>Given two 0-indexed integer arrays nums1 and nums2, return a list answer of size 2 where:</p>
<ul>
<li>answer[0] is a list of all distinct integers in nums1 which are not present in nums2.</li>
<li>answer[1] is a list of all distinct integers in nums2 which are not present in nums1.</li>
</ul>
<p>Note that the integers in the lists may be returned in any order.</p>
</blockquote>
<p><img src="https://i.imgur.com/mN6RB67.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findDifference</span>(<span class="params">self, nums1: <span class="type">List</span>[<span class="built_in">int</span>], nums2: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span></span><br><span class="line">        set1 = <span class="built_in">set</span>(nums1)</span><br><span class="line">        set2 = <span class="built_in">set</span>(nums2)</span><br><span class="line">        <span class="keyword">return</span> [ <span class="built_in">list</span>(set1 - set2), <span class="built_in">list</span>(set2 - set1)]</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Leetcode</tag>
        <tag>Python</tag>
        <tag>Coding</tag>
      </tags>
  </entry>
  <entry>
    <title>軟體升級不崩潰！向前兼容與向後兼容的秘密</title>
    <url>/2025/02/04/%E8%BB%9F%E9%AB%94%E5%8D%87%E7%B4%9A%E4%B8%8D%E5%B4%A9%E6%BD%B0%EF%BC%81%E5%90%91%E5%89%8D%E5%85%BC%E5%AE%B9%E8%88%87%E5%90%91%E5%BE%8C%E5%85%BC%E5%AE%B9%E7%9A%84%E7%A7%98%E5%AF%86/</url>
    <content><![CDATA[<p>想像一下，你有一本舊筆記本，裡面記錄了多年來的重要資訊。某天，你買了一本新筆記本，希望能夠繼續使用舊的筆記內容，而不會因為格式變了就讀不懂。這其實就像軟體的<strong>兼容性 (Compatibility)</strong> 問題，確保系統或應用程式在不同版本之間能夠順暢運作，避免升級帶來的麻煩。</p>
<p>在軟體開發與系統設計中，<strong>向前兼容 (Forward Compatibility)</strong> 和 <strong>向後兼容 (Backward Compatibility)</strong> 是兩個重要的概念，影響著系統升級、API 設計、資料格式變更等。</p>
<span id="more"></span>

<h2 id="什麼是向前兼容-Forward-Compatibility-？"><a href="#什麼是向前兼容-Forward-Compatibility-？" class="headerlink" title="什麼是向前兼容 (Forward Compatibility)？"></a>什麼是向前兼容 (Forward Compatibility)？</h2><blockquote>
<p>向前兼容指的是「舊版本的系統或軟體能夠與未來的新版本兼容」，就像老舊的 DVD 播放機可以讀取最新的 DVD 影片，即使畫質可能沒那麼完美，至少還能播放。</p>
</blockquote>
<ul>
<li><strong>文件格式：</strong> 舊版本的應用程式仍然能打開新的文件格式，即使無法解析新增加的內容。</li>
<li><strong>API 設計：</strong> API 的回應增加新欄位，但舊版本的客戶端仍可正常運行，因為它們可以忽略未知欄位。</li>
</ul>
<h3 id="如何實現向前兼容"><a href="#如何實現向前兼容" class="headerlink" title="如何實現向前兼容"></a>如何實現向前兼容</h3><ol>
<li><strong>保持核心功能不變</strong>：確保舊版本能夠正常運行，即使遇到新版本的變更。</li>
<li><strong>使用可選欄位</strong>：在 JSON 或 XML 回應中，新增欄位時確保舊版本能夠忽略未識別的內容。</li>
<li><strong>版本控制</strong>：在 API 或文件格式中提供版本標記，例如 <code>v1</code>、<code>v2</code>，確保不同版本可共存。</li>
</ol>
<h2 id="什麼是向後兼容-Backward-Compatibility-？"><a href="#什麼是向後兼容-Backward-Compatibility-？" class="headerlink" title="什麼是向後兼容 (Backward Compatibility)？"></a>什麼是向後兼容 (Backward Compatibility)？</h2><blockquote>
<p>向後兼容指的是「新版本的系統或軟體能夠與舊版本的輸入或數據兼容」，就像新的遊戲主機 (EX:  PS5)仍然可以玩舊的 PS4 遊戲，這樣就不需要重新買一大堆遊戲。</p>
</blockquote>
<ul>
<li><strong>作業系統相容性：</strong> 新版本的 Windows 仍然可以運行舊版本的應用程式。</li>
<li><strong>API 保持相容性：</strong> 新版 API 仍然支持舊版 API 的請求格式。</li>
</ul>
<h3 id="如何實現向後兼容？"><a href="#如何實現向後兼容？" class="headerlink" title="如何實現向後兼容？"></a>如何實現向後兼容？</h3><ol>
<li><strong>保留舊功能</strong>：即使新增了新功能，也要確保舊功能不受影響。</li>
<li><strong>避免直接刪除舊接口</strong>：如果要移除舊功能，應該提供過渡方案，EX: 標記 <code>Deprecated</code>，並給出替代方案。</li>
<li><strong>數據結構升級時考慮回溯</strong>：確保新系統仍能讀取舊格式的數據，避免數據丟失。</li>
</ol>
<h2 id="比較"><a href="#比較" class="headerlink" title="比較"></a>比較</h2><table>
<thead>
<tr>
<th><strong>項目</strong></th>
<th><strong>向前兼容 (Forward Compatibility)</strong></th>
<th><strong>向後兼容 (Backward Compatibility)</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>定義</strong></td>
<td>舊版本能讀取新版本的數據或請求</td>
<td>新版本能讀取舊版本的數據或請求</td>
</tr>
<tr>
<td><strong>重點</strong></td>
<td>舊系統適應新變更</td>
<td>新系統適應舊數據</td>
</tr>
<tr>
<td><strong>應用場景</strong></td>
<td>API 擴展、文件格式更新</td>
<td>軟體升級、資料庫遷移</td>
</tr>
<tr>
<td><strong>挑戰</strong></td>
<td>需要讓舊版忽略未知內容</td>
<td>需要確保新版本能處理舊格式</td>
</tr>
</tbody></table>
<h2 id="如何確保你的軟體的兼容性？"><a href="#如何確保你的軟體的兼容性？" class="headerlink" title="如何確保你的軟體的兼容性？"></a>如何確保你的軟體的兼容性？</h2><ol>
<li><p><strong>API 設計</strong></p>
<ul>
<li>使用版本控制，例如 <code>v1</code>, <code>v2</code>，確保不同版本能夠共存。</li>
<li>在 API 回應中新增欄位時，確保舊版客戶端能夠忽略這些新欄位，不影響運作。</li>
<li>提供過渡期，避免一次性刪除舊 API，讓開發者有時間適應新版本。</li>
</ul>
</li>
<li><p><strong>資料庫遷移</strong></p>
<ul>
<li>新增新欄位時，不要立即移除舊欄位，以確保舊版本的應用仍可正常運行。</li>
<li>使用 <strong>Feature Flags</strong> 控制新功能的啟用，確保舊版用戶不受影響。</li>
<li>記錄變更日誌，監控相容性問題，確保遷移過程中不影響舊系統。</li>
</ul>
</li>
<li><p><strong>文件格式更新</strong></p>
<ul>
<li>確保新版本的軟體仍能讀取舊的文件格式，避免因版本升級導致文件無法打開。</li>
<li>允許舊版本的軟體忽略新格式中的未知內容，避免解析失敗。</li>
</ul>
</li>
</ol>
<h3 id="不建議使用向前兼容的情境"><a href="#不建議使用向前兼容的情境" class="headerlink" title="不建議使用向前兼容的情境"></a>不建議使用<code>向前兼容</code>的情境</h3><ol>
<li><p><strong>新功能與舊版本完全不相容</strong><br>如果新版本引入的變更過於重大，EX: 資料格式、協議或架構發生根本性改變，那麼強行向前兼容可能會導致代碼變得複雜且難以維護。<br>EX：如果某個舊版應用不支援 JSON，而新版 API 全面改為 JSON 格式，那麼向前兼容的成本過高，不如讓舊版用戶升級。</p>
</li>
<li><p><strong>安全性考量</strong><br>某些安全漏洞可能存在於舊版本，強行讓舊版本相容新系統可能會帶來額外風險。<br>EX：新版的身份驗證方式比舊版更安全，保留舊版兼容性可能會讓攻擊者利用舊的驗證漏洞。</p>
</li>
<li><p><strong>技術債過重</strong><br>如果為了向前兼容而導致代碼變得複雜、難以維護，可能反而拖慢開發速度。<br>EX：長期支持的 API 可能因為過多歷史包袱而難以推動技術更新，這時候可能要考慮完全淘汰舊版。</p>
</li>
</ol>
<h3 id="不建議使用向後兼容的情境"><a href="#不建議使用向後兼容的情境" class="headerlink" title="不建議使用向後兼容的情境"></a>不建議使用<code>向後兼容</code>的情境</h3><ol>
<li><p><strong>架構大變動</strong><br>如果新版本的技術棄用了舊的核心架構，那麼兼容舊版本的代價可能非常高。<br>EX：舊系統基於 SQL，新系統全面改為 NoSQL，這兩者的數據結構與查詢方式完全不同，強行向後兼容可能得不償失。</p>
</li>
<li><p><strong>性能影響</strong><br>新版本可能針對效能優化，向後兼容可能會帶來額外的性能負擔。<br>EX：某些高效能的 API 需要使用 gRPC，但舊版仍在使用 REST，保留舊版可能影響整體效能。</p>
</li>
<li><p><strong>安全性考量</strong><br>與向前兼容相似，某些向後兼容的設計可能會保留已知的安全漏洞，讓系統暴露在風險中。<br>EX：舊版 API 使用較弱的加密標準（EX：SHA-1），新版本全面改用更安全的演算法（EX：SHA-256），這時應該放棄舊版支援。</p>
</li>
</ol>
<h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>向前兼容與向後兼容其實就是軟體世界裡的「溝通橋樑」，確保不同版本的系統能夠互相理解，減少升級帶來的麻煩。如果沒有兼容性，每次更新就像換了一個全新的語言，讓舊版本的使用者瞬間變成「聽不懂」的狀態。</p>
<p>所以，當設計系統時，選擇適當的兼容性策略，不僅能讓使用者體驗更順暢，開發維護成本也會大幅降低。</p>
<p>不過，兼容性設計也不是萬能的，它需要根據實際需求權衡。如果舊版本的維護成本過高、安全風險大、或嚴重影響技術演進，那麼不兼容可能是一個更好的選擇，這時應該透過<strong>公告、過渡期、文檔指引</strong>來幫助用戶平順的升級。</p>
]]></content>
      <tags>
        <tag>Compatibility</tag>
        <tag>Forward Compatibility</tag>
        <tag>Backward Compatibility</tag>
        <tag>軟體開發</tag>
        <tag>向前兼容</tag>
        <tag>向後兼容</tag>
      </tags>
  </entry>
</search>
